@{
    ViewData["Title"] = "DisenioPasivo";
    Layout = "~/Views/Shared/_Layout.cshtml";

    PermisosModel permisos = (PermisosModel)ViewData["permisos"];

}
<style>
    .angular-google-map-container {
        position: absolute;
        top: 0;
        bottom: 0;
        right: 0;
        left: 0;
    }
</style>
<div ng-app="disenioApp" data-spy="scroll" data-target="#stDos" data-offset="50">
    <div ng-controller="disenioController">

        <!-- Modal Session-->
        <div class="modal fade" id="modalSession" tabindex="-1" role="dialog"  aria-hidden="true" data-backdrop="static">
            <div class="modal-dialog modal-dialog-centered" role="document" >
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Aviso</h5>
                    </div>
                    <div class="modal-body">
                        Su sesión ha expirado, favor volver a ingresar
                    </div>
                    
                    <div class="modal-footer">
                        <a class="btn btn-primary" asp-controller="Account" asp-action="Login">Ok</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade"
             id="loadingModal"
             tabindex="-1" role="dialog"
             aria-labelledby="loadingModal"
             data-backdrop="static"
             aria-hidden="true">
            <div class="modal-dialog modal-sm  modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-body text-center">
                        <img src="~/images/spinner-gif-17.gif" style="width:150px;" />
                        <h2>Cargando...</h2>
                    </div>
                </div>
            </div>
        </div>


        @(await Component.InvokeAsync<BodyHeaderViewComponent>(new BodyHeader { Nombre = "Diseño Pasivo" }))
        <hr />
        <md-progress-linear md-mode="query" ng-show="loading"></md-progress-linear>
        <div ng-show="testDivision()">
            <div ng-show="!loading">
                <md-card ng-init="selected = 0">
                    <md-steppers  class="stepper" md-selected="selected" md-stretch-steppers="always">
                        <md-step ng-click="pstep1()" id="stUno" label="Identificación del Edificio" md-complete="step1.completed">
                            <md-content>
                                <div ng-controller="pasoUnoController">
                                    <div class="container">
                                        <hr />
                                        <h4 class="card-title">Ubicación</h4>
                                        <div class="card">
                                            <div class="card-body">
                                                <form name="ubicacionForm" novalidate>
                                                    <fieldset>
                                                        <div class="row">
                                                            <div class="col-md-7">
                                                                <ng-map id="map1" map-type-control="true" zoom="15" center="{{initialPos}}"
                                                                        @{ if (permisos.Escritura) { @: on-click="getpos($event)"
                                                                        } }>
                                                                    <marker centered="true" position="{{initialPos}}" title="Ubicación" animation="Animation.BOUNCE"
                                                                            @{ if (permisos.Escritura) { @: draggable="true"
                                                                             @: on-dragend="getpos($event)"
                                                                            } }></marker>
                                                                </ng-map>
                                                            </div>
                                                            <div class="col-md-5" style="margin-top: 100px">
                                                                <div class="form-group row">
                                                                    <label for="latitud" class="col-sm-4 col-form-label">Latitud:</label>
                                                                    <div class="col-sm-8">
                                                                        <input type="number"
                                                                               class="form-control"
                                                                               name="latitud"
                                                                               id="latitud"
                                                                               ng-model="pasoUno.latitud" required readonly />
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row">
                                                                    <label for="longitud" class="col-sm-4 col-form-label">Longitud:</label>
                                                                    <div class="col-sm-8">
                                                                        <input type="number"
                                                                               class="form-control"
                                                                               name="longitud"
                                                                               id="longitud"
                                                                               ng-model="pasoUno.longitud"
                                                                               required readonly />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row mt-3">
                                                            <label for="searchdir" class="col-sm-3 col-form-label">Buscar dirección: </label>
                                                            <div class="col-sm-9">
                                                                <input places-auto-complete size=80
                                                                       ng-model="vm.address"
                                                                       class="form-control"
                                                                       @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                                       } }
                                                                       component-restrictions="{country:'cl'}"
                                                                       types="{{types}}"
                                                                       on-place-changed="changeLocation()" /> <br />
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </form>
                                            </div>
                                        </div>
                                        <hr />
                                        <h4 class="card-title">General</h4>
                                        <div class="card">
                                            <div class="card-body">
                                                <form name="generalForm" novalidate>
                                                    <fieldset ng-disabled="disableForm">
                                                        <div class="form-group row">
                                                            <label for="tipoAgrupamiento" class="col-sm-3 col-form-label">Tipo de agrupamiento:</label>
                                                            <div class="col-sm-4">
                                                                <select class="custom-select" name="tipoAgrupamiento" id="tipoAgrupamiento"
                                                                        ng-class="{'is-invalid':generalForm.tipoAgrupamiento.$error.required && (generalForm.tipoAgrupamiento.$touched || generalForm.tipoAgrupamiento.$dirty) }"
                                                                        ng-model="pasoUno.tipoAgrupamientoId"
                                                                        ng-options="general.value as general.name for general in data.tipoAgrupamiento"
                                                                        @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                                        } else { @: ng-disabled="tipoAgrupamientoDisabled"
                                                                        } }
                                                                        required>
                                                                    <option value="">{{loadAgrupamiento}}</option>

                                                                </select>
                                                            </div>
                                                            <small ng-show="generalForm.tipoAgrupamiento.$error.required && (generalForm.tipoAgrupamiento.$touched || generalForm.tipoAgrupamiento.$dirty)"
                                                                   id="tipoAgrupamientoHelp" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="entorno" class="col-sm-3 col-form-label">Entorno</label>
                                                            <div class="col-sm-4">
                                                                <select class="custom-select" name="entorno" id="entorno"
                                                                        ng-class="{'is-invalid':generalForm.entorno.$error.required && (generalForm.entorno.$touched || generalForm.entorno.$dirty) }"
                                                                        ng-model="pasoUno.entornoId"
                                                                        ng-options="entorno.value as entorno.name for entorno in data.entorno"
                                                                        required
                                                                        @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                                        } else { @: ng-disabled="generalForm.tipoAgrupamiento.$pristine && generalForm.entorno.$invalid"
                                                                        } }>
                                                                    <option value="">{{loadEntorno}}</option>
                                                                </select>
                                                            </div>
                                                            <small ng-show="generalForm.entorno.$error.required && (generalForm.entorno.$touched || generalForm.entorno.$dirty)"
                                                                   id="entornoHelp" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>
                                                        @*<div class="form-group row" ng-show="false">
                                                            <label for="inerciaTermica" class="col-sm-3 col-form-label">Inercia Térmica</label>
                                                            <div class="col-sm-4" ng-init="getInercia()">
                                                                <select class="custom-select" name="inerciaTermica" id="inerciaTermica"
                                                                        ng-class="{'is-invalid':generalForm.inerciaTermica.$error.required && (generalForm.inerciaTermica.$touched || generalForm.inerciaTermica.$dirty) }"
                                                                        ng-model="general.inerciaTermicaId"
                                                                        ng-disabled="generalForm.entorno.$pristine && generalForm.inerciaTermica.$invalid"
                                                                        ng-options="inercia.value as inercia.name for inercia in data.inerciaTermica">
                                                                    <option value="">{{loadInercia}}</option>
                                                                </select>
                                                            </div>
                                                            <small ng-show="generalForm.inerciaTermica.$error.required && (generalForm.inerciaTermica.$touched || generalForm.inerciaTermica.$dirty)"
                                                                   id="inerciaTermicaHelp" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>*@
                                                    </fieldset>

                                                </form>
                                            </div>
                                        </div>
                                        <hr />
                                        <h4 class="card-title">Pisos del edificio</h4>
                                        <div class="card">
                                            <div class="card-body">
                                                <button ng-click="showModalPiso()" type="button" class="btn btn-primary float-right"
                                                        @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                        } }>
                                                    <span class="fa fa-plus"></span>
                                                    Agregar pisos
                                                </button>
                                                <div class="card mx-auto border-0" style="width: 18rem;">
                                                    <div class="card-body">
                                                        <ul class="list-group list-group-flush">
                                                            <li class="list-group">N° de pisos sobre nivel: {{sobrePisos.length}}</li>
                                                            <li class="list-group">N° de pisos bajo nivel: {{bajoPisos.length   }}</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <br />
                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <h5 class="card-title text-center">Pisos bajo nivel</h5>
                                                        <div class="card">

                                                            <table class="table table-striped" style="font-size:12px;">
                                                                <thead>
                                                                    <tr>
                                                                        <th style="width:85px;"><p>Piso</p></th>
                                                                        <th><p>Superficie (m<sup>2</sup>)</p></th>
                                                                        <th><p>Altura (m)</p></th>
                                                                        <th><p>Volumen (m<sup>3</sup>)</p></th>
                                                                        <th style="width:95px;"></th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-if="bajoPisos.length>0" ng-repeat="option in bajoPisos | orderBy:'pisoNumero' : true">
                                                                        <td>{{option.numeroPisoNombre}}</td>
                                                                        <td>{{option.superficie | number:2}}</td>
                                                                        <td>{{option.altura | number:2}}</td>
                                                                        <td>{{option.altura * option.superficie | number:2}}</td>
                                                                        @{
                                                                            if (permisos.Escritura)
                                                                            {
                                                                                <td>
                                                                                    <a href="" data-toggle="tooltip" data-placement="top" title="Eliminar" ng-click="showModalConfirm(option.id, option.numeroPisoNombre)"><md-icon>delete</md-icon></a>
                                                                                    <a href="" data-toggle="tooltip" data-placement="top" title="Editar" ng-click="editPiso(option)"><md-icon>edit</md-icon></a>
                                                                                </td>
                                                                            }

                                                                        }

                                                                    </tr>
                                                                    <tr ng-if="bajoPisos.length==0">
                                                                        <td colspan="5">Sin datos para mostrar</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <h5 class="card-title text-center">Pisos sobre nivel</h5>
                                                        <div class="card">
                                                            <table class="table table-striped" style="font-size:12px;">
                                                                <thead>
                                                                    <tr>
                                                                        <th style="width:85px;"><p>Piso</p></th>
                                                                        <th><p>Superficie (m<sup>2</sup>)</p></th>
                                                                        <th><p>Altura (m)</p></th>
                                                                        <th><p>Volumen (m<sup>3</sup>)</p></th>
                                                                        <th style="width:95px;"></th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-if="sobrePisos.length>0" ng-repeat="option in sobrePisos | orderBy:'numeroPiso'">
                                                                        <td>{{option.numeroPisoNombre}}</td>
                                                                        <td>{{option.superficie | number:2}}</td>
                                                                        <td>{{option.altura | number:2}}</td>
                                                                        <td>{{option.altura * option.superficie | number:2}}</td>
                                                                        @{
                                                                            if (permisos.Escritura)
                                                                            {
                                                                                <td>
                                                                                    <a href="" data-toggle="tooltip" data-placement="top" title="Eliminar" ng-click="showModalConfirm(option.id, option.numeroPisoNombre)"><md-icon>delete</md-icon></a>
                                                                                    <a href="" data-toggle="tooltip" data-placement="top" title="Editar" ng-click="editPiso(option)"><md-icon>edit</md-icon></a>
                                                                                </td>
                                                                            }

                                                                        }

                                                                    </tr>
                                                                    <tr ng-if="sobrePisos.length==0">
                                                                        <td colspan="5">Sin datos para mostrar</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                    </div>
                                                </div>
                                                <br />
                                                <div class="card mx-auto border-0" style="width: 18rem;">
                                                    <div class="card-body">
                                                        <ul class="list-group list-group-flush">
                                                            <li class="list-group"><p>Superticie Total (mt<sup>2</sup>): {{totales().supTotal | number:2}}</p></li>
                                                        </ul>
                                                        <ul class="list-group list-group-flush">
                                                            <li class="list-group"><p>Volumen Total (mt<sup>3</sup>): {{totales().volTotal | number:2}}</p></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <button type="button" class="btn btn-primary float-right"
                                                        ng-disabled="ubicacionForm.$invalid || generalForm.$invalid || havePisos()"
                                                        ng-click="pasoUnoSave()">
                                                    Continuar
                                                </button>
                                            </div>
                                        </div>
                                        <hr />
                                    </div>
                                    <div class="modal fade text-primary" id="modalPiso" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static">
                                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                            <div class="modal-content">
                                                <form name="pisosForm" novalidate">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title" id="exampleModalLabel"><strong>{{modalTitulo}} pisos del edificio</strong></h5>
                                                        <button type="button" class="close" ng-click="hideModalPiso()">
                                                            <span aria-hidden="true">&times;</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="form-group row">
                                                            <label for="tipoNivelPiso" class="col-sm-4 col-form-label">Tipo de Nivel del piso:</label>
                                                            <div class="col-sm-4">
                                                                <select class="custom-select" name="tipoNivelPiso" id="tipoNivelPiso"
                                                                        ng-class="{'is-invalid':pisosForm.tipoNivelPiso.$error.required && (pisosForm.tipoNivelPiso.$touched || pisosForm.tipoNivelPiso.$dirty) }"
                                                                        ng-model="piso.tipoNivelId"
                                                                        ng-change="countPisos()"
                                                                        ng-disabled="(generalForm.inerciaTermica.$pristine && piso.tipoNivelPisoSelected.$invalid) || editMode"
                                                                        ng-options="item.value as item.name  for item in data.tipoNivelPiso"
                                                                        required>
                                                                    <option value="">-- Seleccione --</option>
                                                                </select>
                                                            </div>
                                                            <small ng-show="pisosForm.tipoNivelPiso.$error.required && (pisosForm.tipoNivelPiso.$touched || pisosForm.tipoNivelPiso.$dirty)"
                                                                   id="tipoNivelPisoHelp" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>
                                                        <div class="form-group row" ng-show="pisosIguales">
                                                            <label for="pisosIguales" class="col-sm-4 col-form-label">Crear pisos iguales:</label>
                                                            <input type="checkbox"
                                                                   ng-model="piso.pisosIguales"
                                                                   ng-click="checkPisosIguales($event)"
                                                                   class="check-box"
                                                                   id="pisosIguales" />
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="nPiso" class="col-sm-4 col-form-label">N° de pisos:</label>
                                                            <div class="col-sm-4">
                                                                <select class="custom-select" name="npiso" id="npiso"
                                                                        ng-class="{'is-invalid':pisosForm.npiso.$invalid && (pisosForm.npiso.$touched || pisosForm.npiso.$dirty) }"
                                                                        ng-model="piso.numeroPisoId"
                                                                        ng-disabled="pisosForm.tipoNivelPiso.$pristine"
                                                                        ng-change="chekPiso()"
                                                                        ng-options="item.value as item.name for item in data.numeroPiso | filter : { nivel : piso.tipoNivelId } | orderBy:'numPiso':piso.tipoNivelId==1"
                                                                        required>
                                                                    <option value="">-- Seleccione --</option>
                                                                </select>
                                                            </div>
                                                            <small ng-show="pisosForm.npiso.$error.required && (pisosForm.npiso.$touched || pisosForm.npiso.$dirty)"
                                                                   id="nPisoHelp" class="form-text text-danger">Debe seleccionar una opción</small>
                                                            <small ng-show="pisosForm.npiso.$error.check && (pisosForm.npiso.$touched || pisosForm.npiso.$dirty)"
                                                                   id="nPisoCheckHelp" class="form-text text-danger">El piso ya se encuentra ingresado</small>
                                                        </div>
                                                        <div class="form-group row" ng-show="pisosIguales && piso.tipoNivelId==2 ">
                                                            <label for="check_ep" class="col-sm-4 col-form-label">Tiene entrePiso:</label>
                                                            <input type="checkbox"
                                                                   ng-model="piso.entrePiso"
                                                                   class="check-box"
                                                                   id="check_ep" />
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="superficie" class="col-sm-4 col-form-label">Superficie (m<sup>2</sup>) {{porPiso}}:</label>
                                                            <div class="col-sm-4">
                                                                <input type="text" class="form-control" name="superficie" id="superficie" placeholder="Ingrese la superficie..."
                                                                       ng-class="{'is-invalid':pisosForm.superficie.$invalid  && (pisosForm.superficie.$touched || pisosForm.superficie.$dirty) }"
                                                                       ng-model="piso.superficie"
                                                                       ng-disabled="pisosForm.npiso.$pristine  && pisosForm.superficie.$invalid && !editMode"
                                                                       required
                                                                       ng-pattern="/^[0-9]+(?:\.[0-9]+)?$/"
                                                                       min="1" />
                                                            </div>
                                                            <small ng-show="pisosForm.superficie.$error.required && (pisosForm.superficie.$touched || pisosForm.superficie.$dirty)"
                                                                   id="superficieHelp" class="form-text text-danger">Campo requerido</small>
                                                            <small ng-show="pisosForm.superficie.$error.min && (pisosForm.superficie.$touched || pisosForm.superficie.$dirty)"
                                                                   id="superficieMInHelp" class="form-text text-danger">La superficie debe ser mayor a 0</small>
                                                            <small ng-show="pisosForm.superficie.$error.pattern && (pisosForm.superficie.$touched || pisosForm.superficie.$dirty)"
                                                                   id="superficieMInHelp" class="form-text text-danger pl-5">Solo numeros sin separadores de miles y punto para los decimales </small>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="altura" class="col-sm-4 col-form-label">Altura (m) {{porPiso}}: </label>
                                                            <div class="col-sm-4">
                                                                <input type="text" class="form-control" name="altura" id="altura" placeholder="Ingrese la altura..."
                                                                       ng-class="{'is-invalid':pisosForm.altura.$invalid && (pisosForm.altura.$touched || pisosForm.altura.$dirty) }"
                                                                       ng-model="piso.altura"
                                                                       ng-disabled="pisosForm.superficie.$pristine  && pisosForm.altura.$invalid && !editMode"
                                                                       required
                                                                       ng-pattern="/^[0-9]+(?:\.[0-9]+)?$/"
                                                                       min="1" />
                                                            </div>
                                                            <small ng-show="pisosForm.altura.$error.required && (pisosForm.altura.$touched || pisosForm.altura.$dirty)"
                                                                   id="alturaHelp" class="form-text text-danger">Campo requerido</small>
                                                            <small ng-show="pisosForm.altura.$error.min && (pisosForm.altura.$touched || pisosForm.altura.$dirty)"
                                                                   id="alturaMinHelp" class="form-text text-danger">La Altura debe ser mayor a 0</small>
                                                            <small ng-show="pisosForm.altura.$error.pattern && (pisosForm.altura.$touched || pisosForm.altura.$dirty)"
                                                                   id="superficieMInHelp" class="form-text text-danger pl-5">Solo numeros sin separadores de miles y punto para los decimales</small>
                                                        </div>
                                                    </div>
                                                    <div class="text-muted pl-5 col-md-11">
                                                        <span>Para altura y superficie el número sin separadores de miles y utilizar punto “.” para  decimales Ej: 1789.77</span>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-danger" ng-click="hideModalPiso()">Cancelar</button>
                                                        <button type="submit"
                                                                ng-click="submitPisoForm()"
                                                                class="btn btn-primary"
                                                                ng-disabled="pisosForm.$invalid">
                                                            Guardar
                                                        </button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal fade" id="modalConfirm" tabindex="-1" role="dialog"
                                         aria-labelledby="modalConfirmLabel" aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h4 class="modal-title" id="modalConfirmLabel">Eliminar</h4>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    ¿Esta Seguro de eliminar el  {{nomPiso}}?
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" ng-click="deletePiso()">Si</button>
                                                    <button type="button" class="btn btn-primary" ng-click="hideConfirm()">No</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </md-content>
                        </md-step>

                        <md-step  id="stDos" label="Emplazamiento" md-complete="step2.completed" ng-disabled="step2.disabled">
                            <md-content>
                                <div ng-controller="pasoDosController as vm">
                                    <div class="modal fade" id="modalOverride" tabindex="-1" role="dialog"
                                         aria-labelledby="modalOverrideLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
                                        <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h4 class="modal-title" id="modalConfirmLabel">Advertencia</h4>
                                                </div>
                                                <div class="modal-body">
                                                    {{overrideText}}
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-primary" ng-if="overrideMode=='alertLevel'" data-dismiss="modal" ng-click="cancelDraw()">Ok</button>
                                                    <button type="button" class="btn btn-default" ng-if="overrideMode=='continueDraw'" ng-click="continueDraw()">Continuar</button>
                                                    <button type="button" class="btn btn-primary" ng-if="overrideMode=='continueDraw'" data-dismiss="modal" ng-click="cancelDraw()">Cancelar</button>
                                                    @{
                                                        if (permisos.Escritura)
                                                        {
                                                            <button type="button" class="btn btn-default" ng-if="overrideMode=='deleteButton'" ng-click="deleteMuros()">Continuar</button>
                                                        }

                                                    }
                                                    <button type="button" class="btn btn-default" ng-if="overrideMode=='sameFloor'" ng-click="deleteMuros()">Continuar</button>
                                                    <button type="button" class="btn btn-primary" ng-if="overrideMode=='deleteButton'" data-dismiss="modal" ng-click="cancelDelete()">Cancelar</button>
                                                    <button type="button" class="btn btn-primary" ng-if="overrideMode=='sameFloor'" data-dismiss="modal" ng-click="cancelSameFloor()">Cancelar</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container" id="focusMapy">
                                        <hr />
                                        <h4 class="card-title" style="margin-top:10px;">Dibujo de muros <b>{{drawPiso}}</b></h4>
                                        <div class="card">
                                            <div class="card-body">
                                                <div>
                                                    <div class="row" style="margin-bottom:25px;">
                                                        <div class="col-md-12">
                                                            <span class="ml-2 mr-2">Utiliza la herramienta</span>
                                                            <img src="~/images/polyicon.png" style="width:40px;" />
                                                            <span class="ml-2">para dibujar un poligono en el mapa y definir los muros del edificio</span>
                                                        </div>

                                                    </div>
                                                    <div class="col-md-12">
                                                        <fieldset>
                                                            <ng-map zoom="30" id="mapy" map-type-id="SATELLITE" center="{{latLngPasoUno}}">

                                                                <drawing-manager @{ if (permisos.Escritura) { @: on-overlaycomplete="vm.onMapOverlayCompleted()"
                                                                                  @: drawing-control-options="{position: 'TOP_CENTER',drawingModes:['polygon']}"
                                                                                  @: drawingControl="true"
                                                                                  @: drawingMode="null"
                                                                                  @: markerOptions="{draggable: true}"
                                                                                  @: polylineOptions="{ editable: true}"
                                                                                  @: polygonOptions="{fillColor:'green'}"
                                                                                  @: circleOptions="{fillColor: '#FFFF00',fillOpacity: 1,strokeWeight: 5,clickable: false,zIndex: 1,editable: true}"
                                                                                 } else { @: drawing-control-options="{position: 'TOP_CENTER',drawingModes:['']}"
                                                                                 } }>
                                                                </drawing-manager>
                                                            </ng-map>
                                                        </fieldset>

                                                    </div>
                                                    @*<div class="row mt-3">
                                                        <button class="btn btn-warning m-auto" ng-click="deletePoly()">Borrar poligono</button>
                                                    </div>*@
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container">
                                        <hr />
                                        <h4 class="card-title" style="margin-top:10px;">Dimensión de muros</h4>
                                        <div class="card">
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <label>Todos mis pisos son iguales</label>
                                                    </div>
                                                    <label class="switch">
                                                        <input type="checkbox" name="switcher" ng-model="paso.pisosIguales" ng-click="sameFloor()" checked
                                                               @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                               } }>
                                                        <span class="slider round"></span>
                                                    </label>
                                                </div>
                                                <div class="card" ng-show="paso.pisos[0].muros.length>0">
                                                    <div class="card-header header-pisos">
                                                        <div class="row">
                                                            <h4>Frontis</h4>
                                                            <div class="radio ml-4">
                                                                <label class="radio-inline"
                                                                       ng-repeat="(j,muro) in paso.pisos[0].muros track by $index"
                                                                       style="margin-right:30px;margin-top:5px;">
                                                                    <input type="radio"
                                                                           name="radio{{i}}"
                                                                           ng-model="paso.frontisId"
                                                                           ng-value="muro.id"
                                                                           ng-click="setFrontis(j,muro.id)"
                                                                           @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                                           } }>
                                                                    Muro {{j+1}}
                                                                </label>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="accordion" id="pisosAcordeon">
                                                    <div class="card" ng-repeat="(i,piso) in paso.pisos | orderBy:'pisoNumero'">
                                                        <div class="card-header header-pisos" id="heading{{$index}}">
                                                            <div class="row">
                                                                <div class="">
                                                                    <button class="btn" type="button" ng-click="collapse(i)">
                                                                        <i id="plus{{i}}" class="fa fa-plus" ng-class="{'d-none': i == 0}"></i>
                                                                        <i id="minus{{i}}" class="fa fa-minus" ng-class="{'d-none': i > 0}"></i>
                                                                    </button>
                                                                </div>
                                                                <div class="col-10">
                                                                    <h4>{{piso.numeroPisoNombre}}</h4>
                                                                </div>

                                                                <div class="col-1">
                                                                    <a class="btn btn-link" data-toggle="tooltip" data-placement="top" title="Crear polígono para el piso"
                                                                      style="cursor:pointer" ng-class="{disabled: paso.pisosIguales}" ng-click="specificLevel(piso.pisoNumero);collapse(i)">
                                                                        <img src="~/images/polyiconsf.png" width="50" />
                                                                    </a>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div id="collapse{{$index}}" ng-class="{'show': i == 0}" class="collapse" aria-labelledby="heading{{$index}}" data-parent="#pisosAcordeon">
                                                            <div class="card-body pisos-card">
                                                                <table class="table table-bordered">
                                                                    <thead class="bg-primary text-white">
                                                                        <tr>
                                                                            @*<th scope="col">Frontis</th>*@
                                                                            <th scope="col">N° de muro</th>
                                                                            <th scope="col">Azimut</th>
                                                                            <th scope="col">Orientación</th>
                                                                            <th scope="col">Largo</th>
                                                                            <th scope="col">Tipo de muro</th>
                                                                            @*<th scope="col">% Vanos</th>
                                                                            <th scope="col">Tipo de sombreado</th>
                                                                            <th scope="col"></th>*@
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr ng-if="piso.muros.length==0">
                                                                            <td colspan="7">Sin información</td>
                                                                        </tr>
                                                                        <tr ng-if=" piso.muros.length>0" ng-repeat="(j,muro) in piso.muros track by $index">
                                                                            @*<td>
                                                                                <div class="radio ml-4">
                                                                                    <input type="radio" name="radio{{i}}" ng-model="piso.frontisIndex" ng-value="j" ng-click="setFrontis(piso,j)">
                                                                                </div>
                                                                            </td>*@
                                                                            <td>Muro {{j+1}}</td>
                                                                            <td>{{muro.bearing | number:2}}°</td>
                                                                            <td>{{muro.orientation}}</td>
                                                                            <td>{{muro.distance | number : 2}}</td>
                                                                            <td>{{muro.tipo}}</td>
                                                                            @*<td>{{muro.vanos}}%</td>
                                                                            <td>{{muro.tipoSombreado.nombre}}</td>
                                                                            <td>
                                                                                <a class="btn btn-info" href="#" data-toggle="tooltip" data-placement="top" title="Editar" ng-click="editMuro(j ,piso.pisoNumero)"><span class="fa fa-pencil-square-o" aria-hidden="true"></span></a>
                                                                            </td>*@
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <button type="button" class="btn btn-primary float-right"
                                                        ng-disabled="paso.pisos[0].muros.length == 0" ;
                                                        ng-click="paso2Save()">
                                                    Continuar
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal fade" id="modalMuro" tabindex="-1" role="dialog" aria-labelledby="modalMuroLabel" aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered" role="document">
                                            <div class="modal-content text-primary">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="modalMuroLabel">Editar {{editedMuro.nombre}}</h5>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <form name="muroForm" novalidate>
                                                        <div class="form-group row">
                                                            <label for="frontis" class="col-sm-4 col-form-label">Muro de frontis:</label>
                                                            <div class="col-md-4">
                                                                <label class="switch">
                                                                    <input id="frontis" type="checkbox" name="frontis" ng-model="editedMuro.checkFrontis">
                                                                    <span class="slider round"></span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="tipoMuro" class="col-sm-4 col-form-label">Tipo de muro:</label>
                                                            <div class="col-sm-6">
                                                                <select class="custom-select" ng-model="editedMuro.tipo" name="tipoMuro" id="tipoMuro" disabled>
                                                                    <option value="">--Seleccione--</option>
                                                                    <option value="Muro externo">Muro externo</option>
                                                                    <option value="Muro interno">Muro interno</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="azimut" class="col-sm-4 col-form-label">Azimut:</label>
                                                            <div class="col-sm-4 pt-1">
                                                                <p>{{editedMuro.bearing | number:2}}°</p>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="orientacion" class="col-sm-4 col-form-label">Orientación:</label>
                                                            <div class="col-sm-4 pt-1">
                                                                <text>{{editedMuro.orientation}}</text>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="largo" class="col-sm-4 col-form-label">Largo:</label>
                                                            <div class="col-sm-4 pt-1">
                                                                <text>{{editedMuro.distance |number:2}} mts</text>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="largo" class="col-sm-4 col-form-label">Porcentaje de Vanos:</label>
                                                            <div class="col-sm-4">
                                                                <md-slider class="" id="slider" md-discrete="" ng-model="editedMuro.vanos" step="1" min="0" max="100" aria-label="slider">
                                                                </md-slider>
                                                            </div>
                                                            @*<div class="col-sm-4">
                                                                <a href="#">Opciones avanzadas</a>
                                                            </div>*@
                                                        </div>
                                                        <div class="form-group row">
                                                            <label for="tipoSombreado" class="col-sm-4 col-form-label">Tipo de sombreado:</label>
                                                            <div class="col-sm-6">
                                                                <select class="custom-select" name="tipoSombreado" id="tipoSombreado"
                                                                        ng-model="editedMuro.tipoSombreadoId"
                                                                        ng-class="{'is-invalid':muroForm.tipoSombreado.$error.required && (muroForm.tipoSombreado.$touched || muroForm.tipoSombreado.$dirty) }"
                                                                        ng-options="item.id as item.nombre  for item in tipoSombreados"
                                                                        required>
                                                                    <option value="">-- Seleccione --</option>
                                                                </select>

                                                            </div>
                                                        </div>
                                                    </form>

                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>
                                                    <button type="button"
                                                            class="btn btn-primary"
                                                            ng-disabled="muroForm.$invalid"
                                                            ng-click="updateMuro()">
                                                        Guardar
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal fade" id="modalInfoP2" tabindex="-1" role="dialog" aria-labelledby="modalInfoLabel" aria-hidden="true" data-backdrop="static">
                                        <div class="modal-dialog modal-dialog-centered" role="document">
                                            <div class="modal-content text-primary">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="modalMuroLabel">Pasos para cargar muros:</h5>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <span>1.- Debe dibujar en sentido horario</span>
                                                    <img style="height:20px; margin-right:5px; margin-left:5px;" src="~/images/60557.svg" />  <span>el perímetro de su edificio</span>
                                                    <div>
                                                        <img src="~/images/DemoPaso2.gif" />
                                                    </div>
                                                    <div class="row" style="padding-left:10px;padding-right:12px;">
                                                        <span>2.-En caso de no tener todos los pisos iguales, debe dibujar con el Icono <img src="~/images/polyicon.png" style="width:30px;" /> los perimetros de cada piso</span>
                                                    </div>

                                                    <div class="row" style="padding-left:10px;padding-right:12px;">
                                                        <span>3.- En caso de tener muros internos debes ingresarlos en sentido anti horario </span> <img style="height:20px; margin-right:5px; margin-left:5px;" src="~/images/60585.svg" />
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </md-content>
                        </md-step>

                        <md-step id="stTres" type="button" label="Materialidad y Aislación" md-complete="step3.completed" ng-disabled="step3.disabled">
                            <md-content>
                                <div ng-controller="pasoTresController">
                                    <div class="container">
                                        <hr />
                                        <div class="card">
                                            <div class="card-header bg-primary text-white">
                                                <div class="row">
                                                    <div class="col-md-4">Materialidad</div>
                                                    <div class="col-md-4 text-center">Tipo de aislacion</div>
                                                    <div class="col-md-4 "><p class="ml-auto col-md-7">Datos numéricos</p></div>
                                                </div>
                                            </div>
                                            <form name="paso3_form" novalidate>
                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-md-1">
                                                            <img src="~/images/4Icono.svg" class="step-3-ico" />
                                                        </div>
                                                        <div class="col-md-10 step-3-subtitle text-primary">
                                                            Pisos
                                                        </div>
                                                        @*<button type="button" class="btn btn-primary btn-sm step-3-button">Nivel1</button>
                                                        <button type="button" class="btn btn-outline-primary btn-sm step-3-button" ng-click="suelosLv2()">Nivel2</button>*@
                                                    </div>
                                                    <br />
                                                    <div class="row">
                                                        <div class="col-md-5">
                                                            <label for="mat_pisos" class="col-form-label">Solución Constructiva:</label>
                                                            <select class="custom-select" name="mat_pisos" id="mat_pisos"
                                                                    ng-model="paso.piso.materialidadId"
                                                                    ng-options="item.materialidad.id as item.materialidad.nombre for item in data.pisos.materialidades"
                                                                    ng-class="{'is-invalid':paso3_form.mat_pisos.$error.required && (paso3_form.mat_pisos.$touched || paso3_form.mat_pisos.$dirty) }"
                                                                    @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                                    } }>
                                                                <option value="">-- Seleccione --</option>
                                                            </select>
                                                            <small ng-show="paso3_form.mat_pisos.$error.required && (paso3_form.mat_pisos.$touched || paso3_form.mat_pisos.$dirty)"
                                                                   id="mat_pisos_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>
                                                        <div class="col-md-5">
                                                            <label for="ais_pisos" class="col-form-label">Aislación :</label>
                                                            <select class="custom-select" name="ais_pisos" id="ais_pisos"
                                                                    ng-model="paso.piso.aislacionId"
                                                                    ng-options="item.aislacion.id as item.aislacion.nombre for item in data.pisos.aislaciones"
                                                                    ng-change="resetAislacion()"
                                                                    ng-class="{'is-invalid':paso3_form.ais_pisos.$error.required && (paso3_form.ais_pisos.$touched || paso3_form.ais_pisos.$dirty) }"
                                                                    @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                                    } }>
                                                                <option value="">Sin aislación</option>
                                                            </select>
                                                            <small ng-show="paso3_form.ais_pisos.$error.required && (paso3_form.ais_pisos.$touched || paso3_form.ais_pisos.$dirty)"
                                                                   id="ais_ext_muros_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-5 ml-auto " style="margin-right:130px">
                                                            <label for="mat_pisos" class="col-form-label">Espesor de aislación (mm):</label>
                                                            <select class="custom-select" name="espesor_pisos" id="espesor_pisos"
                                                                    ng-model="paso.piso.espesorId"
                                                                    ng-options="item.id as item.nombre for item in data.espesores"
                                                                    @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                                    } else { @: ng-disabled="paso.piso.aislacionId==null"
                                                                    } }>
                                                                <option value="">-- Seleccione --</option>

                                                            </select>
                                                        </div>
                                                    </div>
                                                    <hr />

                                                    <div class="row">
                                                        <div class="col-md-1">
                                                            <img src="~/images/3Icono.svg" class="step-3-ico" />
                                                        </div>
                                                        <div class="col-md-10 step-3-subtitle text-primary">
                                                            Muros
                                                        </div>
                                                        @*<button type="button" class="btn btn-primary btn-sm step-3-button">Nivel1</button>
                                                        <button type="button" class="btn btn-outline-primary btn-sm step-3-button" ng-click="murosLv2()">Nivel2</button>*@
                                                    </div>
                                                    <br />
                                                    <div class="row">
                                                        <div class="col-md-5">
                                                            <label for="mat_muros" class="col-form-label">Solución Constructiva:</label>
                                                            <select class="custom-select" name="mat_muros" id="mat_muros"
                                                                    ng-model="paso.muro.materialidadId"
                                                                    ng-options="item.materialidad.id as item.materialidad.nombre for item in data.muros.materialidades"
                                                                    ng-class="{'is-invalid':paso3_form.mat_muros.$error.required && (paso3_form.mat_muros.$touched || paso3_form.mat_muros.$dirty) }"
                                                                    @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                                    } }>
                                                                <option value="">-- Seleccione --</option>
                                                            </select>
                                                            <small ng-show="paso3_form.mat_muros.$error.required && (paso3_form.mat_muros.$touched || paso3_form.mat_muros.$dirty)"
                                                                   id="mat_muros_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>
                                                        <div class="col-md-5">
                                                            <label for="mat_muro" class="col-form-label">Aislación:</label>
                                                            <select class="custom-select" name="ais_int_muros" id="ais_int_muros"
                                                                    ng-model="paso.muro.aislacionIntId"
                                                                    ng-change="resetAislacion()"
                                                                    ng-class="{'is-invalid':paso3_form.ais_int_muros.$error.required && (paso3_form.ais_int_muros.$touched || paso3_form.ais_int_muros.$dirty) }"
                                                                    ng-options="item.aislacion.id as item.aislacion.nombre for item in data.muros.aislaciones"
                                                                    @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                                    } }>
                                                                <option value="">Sin aislación</option>
                                                            </select>
                                                            <small ng-show="paso3_form.ais_int_muros.$error.required && (paso3_form.ais_int_muros.$touched || paso3_form.ais_int_muros.$dirty)"
                                                                   id="ais_int_muros_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>

                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-5 ml-auto " style="margin-right:130px">
                                                            <label for="espesor_muros" class="col-form-label">Espesor de aislación (mm):</label>
                                                            <select class="custom-select" name="espesor_muros" id="espesor_muros"
                                                                    ng-model="paso.muro.espesorId"
                                                                    ng-options="item.id as item.nombre for item in data.espesores"
                                                                    @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                                    } else { @: ng-disabled="paso.muro.aislacionIntId==null"
                                                                    } }>
                                                                <option value="">-- Seleccione --</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <hr />

                                                    <div class="row">
                                                        <div class="col-md-1">
                                                            <img src="~/images/5Icono.svg" class="step-3-ico" />
                                                        </div>
                                                        <div class="col-md-10 step-3-subtitle text-primary">
                                                            Ventanas
                                                        </div>
                                                        @*<button type="button" class="btn btn-primary btn-sm step-3-button">Nivel1</button>
                                                        <button type="button" class="btn btn-outline-primary btn-sm step-3-button">Nivel2</button>*@
                                                    </div>
                                                    <br />
                                                    <div class="row">
                                                        <div class="col-md-5">
                                                            <label for="mat_ventanas" class="col-form-label">Tipo de vidrio:</label>
                                                            <select class="custom-select" name="mat_ventanas" id="mat_ventanas"
                                                                    ng-model="paso.ventanas.materialidadId"
                                                                    ng-options="item.materialidad.id as item.materialidad.nombre for item in data.ventanas.materialidades"
                                                                    ng-class="{'is-invalid':paso3_form.mat_ventanas.$error.required && (paso3_form.mat_ventanas.$touched || paso3_form.mat_ventanas.$dirty) }"
                                                                    @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                                    } }>
                                                                <option value="">-- Seleccione --</option>
                                                            </select>
                                                            <small ng-show="paso3_form.mat_ventanas.$error.required && (paso3_form.mat_ventanas.$touched || paso3_form.mat_ventanas.$dirty)"
                                                                   id="mat_ventanas_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>
                                                        <div class="col-md-5">
                                                            <label for="mat_muro" class="col-form-label">Tipo de cierre:</label>
                                                            <select class="custom-select" name="tipo_cierre_ventanas" id="tipo_cierre_ventanas"
                                                                    ng-model="paso.ventanas.tipoCierreId"
                                                                    ng-options="item.aislacion.id as item.aislacion.nombre for item in data.tipo_cierre"
                                                                    ng-class="{'is-invalid':paso3_form.tipo_cierre_ventanas.$error.required && (paso3_form.tipo_cierre_ventanas.$touched || paso3_form.tipo_cierre_ventanas.$dirty) }"
                                                                    @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                                    } }>
                                                                <option value="">-- Seleccione --</option>
                                                            </select>
                                                            <small ng-show="paso3_form.tipo_cierre_ventanas.$error.required && (paso3_form.tipo_cierre_ventanas.$touched || paso3_form.tipo_cierre_ventanas.$dirty)"
                                                                   id="tipo_cierre_ventanas_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                            <label for="mat_muro" class="col-form-label">Tipo de marco:</label>
                                                            <select class="custom-select" name="tipo_marco_ventanas" id="tipo_marco_ventanas"
                                                                    ng-model="paso.ventanas.tipoMarcoId"
                                                                    ng-options="item.aislacion.id as item.aislacion.nombre for item in data.tipo_marco"
                                                                    ng-class="{'is-invalid':paso3_form.tipo_marco_ventanas.$error.required && (paso3_form.tipo_marco_ventanas.$touched || paso3_form.tipo_marco_ventanas.$dirty) }"
                                                                    @{ if (!permisos.Escritura) { @: disabled="disabled"
                                                                    } }>
                                                                <option value="">-- Seleccione --</option>
                                                            </select>
                                                            <small ng-show="paso3_form.tipo_marco_ventanas.$error.required && (paso3_form.tipo_marco_ventanas.$touched || paso3_form.tipo_marco_ventanas.$dirty)"
                                                                   id="tipo_marco_ventanas_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>
                                                        @*<div class="col-sm-2">
                                                            <input type="text"
                                                                   class="form-control"
                                                                   name="superficie_ventanas"
                                                                   id="superficie_ventanas"
                                                                   style="margin-top:60px;"
                                                                   ng-model="ventana_tmp.superficie"
                                                                   ng-class="{'is-invalid':paso3_form.superficie_ventanas.$invalid  && (paso3_form.superficie_ventanas.$touched || paso3_form.superficie_ventanas.$dirty) }"
                                                                   ng-pattern="/^[0-9]+(?:\.[0-9]+)?$/"
                                                                   min="1"
                                                                   required />
                                                            <small ng-show="paso3_form.superficie_ventanas.$error.required && (paso3_form.superficie_ventanas.$touched ||paso3_form.superficie_ventanas.$dirty)"
                                                                   id="superficie_techos_help" class="form-text text-danger">Campo requerido</small>
                                                            <small ng-show="paso3_form.superficie_ventanas.$error.min && (paso3_form.superficie_ventanas.$touched || paso3_form.superficie_ventanas.$dirty)"
                                                                   id="superficie_techos_min_help" class="form-text text-danger">La superficie debe ser mayor a 0</small>
                                                            <small ng-show="paso3_form.superficie_ventanas.$error.pattern && (paso3_form.superficie_ventanas.$touched || paso3_form.superficie_ventanas.$dirty)"
                                                                   id="superficie_techos_pat_help" class="form-text text-danger pl-5">Solo numeros sin separadores de miles y punto para los decimales </small>
                                                        </div>*@
                                                    </div>
                                                    <div class="row">
                                                        <label for="largo"
                                                               class="col-sm-3 col-form-label"
                                                               style="padding-top:27px;">Porcentaje de Ventanas:</label>
                                                        <div class="col-sm-6" style="padding-top:15px;">
                                                            <md-slider class=""
                                                                       id="superficie_ventanas"
                                                                       name="superficie_ventanas"
                                                                       aria-label="superficie_ventanas"
                                                                       md-discrete
                                                                       ng-model="paso.ventanas.superficie"
                                                                       step="1" min="0"
                                                                       max="100"
                                                                       @{ if (!permisos.Escritura) { @: ng-disabled="true"
                                                                       } }>
                                                            </md-slider>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <md-input-container>
                                                                <input type="number"
                                                                       style="width:35px;"
                                                                       ng-model="paso.ventanas.superficie" aria-label="red" aria-controls="red-slider" readonly>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">%</span>
                                                                </div>
                                                            </md-input-container>
                                                        </div>
                                                    </div>
                                                    <hr />
                                                    <div class="row">
                                                        <div class="col-md-1">
                                                            <img src="~/images/6Icono.svg" class="step-3-ico" />
                                                        </div>
                                                        <div class="col-md-10 step-3-subtitle text-primary">
                                                            Puertas
                                                        </div>
                                                        @*<button type="button" class="btn btn-primary btn-sm step-3-button">Nivel1</button>
                                                        <button type="button" class="btn btn-outline-primary btn-sm step-3-button">Nivel2</button>*@
                                                    </div>
                                                    <br />
                                                    <div class="row">
                                                        <div class="col-md-5">
                                                            <label for="mat_puertas" class="col-form-label" style="margin-top:25px;">Tipo de Puerta:</label>
                                                            <select class="custom-select" name="mat_puertas" id="mat_puertas"
                                                                    ng-model="paso.puertas.materialidadId"
                                                                    ng-options="item.materialidad.id as item.materialidad.nombre for item in data.puertas.materialidades"
                                                                    ng-class="{'is-invalid':paso3_form.mat_puertas.$error.required && (paso3_form.mat_puertas.$touched || paso3_form.mat_puertas.$dirty) }"
                                                                    @{ if (!permisos.Escritura) { @: ng-disabled="true"
                                                                    } }>
                                                                <option value="">-- Seleccione --</option>
                                                            </select>
                                                            <small ng-show="paso3_form.mat_puertas.$error.required && (paso3_form.mat_puertas.$touched || paso3_form.mat_puertas.$dirty)"
                                                                   id="mat_puertas_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>
                                                        <div class="col-md-5" style="margin-top:25px;">
                                                            <label for="mat_muro" class="col-form-label">Tipo de Marco:</label>
                                                            <select class="custom-select" name="tipo_marco_puertas" id="tipo_marco_puertas"
                                                                    ng-model="paso.puertas.tipoMarcoId"
                                                                    ng-options="item.aislacion.id as item.aislacion.nombre for item in data.puertas.aislaciones"
                                                                    ng-class="{'is-invalid':paso3_form.tipo_marco_puertas.$error.required && (paso3_form.tipo_marco_puertas.$touched || paso3_form.tipo_marco_puertas.$dirty) }"
                                                                    @{ if (!permisos.Escritura) { @: ng-disabled="true"
                                                                    } }>
                                                                <option value="">-- Seleccione --</option>
                                                            </select>
                                                            <small ng-show="paso3_form.tipo_marco_puertas.$error.required && (paso3_form.tipo_marco_puertas.$touched || paso3_form.tipo_marco_puertas.$dirty)"
                                                                   id="tipo_marco_puertas_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>
                                                        <div class="col-sm-2" style="margin-top:25px;">
                                                            <div class="row">
                                                                <label for="superficie_puertas" class="col-form-label">Area total puertas:</label>
                                                                <input type="text"
                                                                       class="form-control"
                                                                       name="superficie_puertas"
                                                                       style="width:50px;"
                                                                       id="superficie_puertas"
                                                                       ng-model="paso.puertas.superficie"
                                                                       ng-class="{'is-invalid':paso3_form.superficie_puertas.$invalid  && (paso3_form.superficie_puertas.$touched || paso3_form.superficie_puertas.$dirty) }"
                                                                       ng-pattern="/^[0-9]+(?:\.[0-9]+)?$/"
                                                                       min="1"
                                                                       @{ if (!permisos.Escritura) { @: ng-disabled="true"
                                                                       } } />
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">mt<sup>2</sup></span>
                                                                </div>
                                                                <small ng-show="paso3_form.superficie_puertas.$error.required && (paso3_form.superficie_puertas.$touched ||paso3_form.superficie_puertas.$dirty)"
                                                                       id="superficie_techos_help" class="form-text text-danger">Campo requerido</small>
                                                                <small ng-show="paso3_form.superficie_puertas.$error.min && (paso3_form.superficie_puertas.$touched || paso3_form.superficie_puertas.$dirty)"
                                                                       id="superficie_techos_min_help" class="form-text text-danger">La superficie debe ser mayor a 0</small>
                                                                <small ng-show="paso3_form.superficie_puertas.$error.pattern && (paso3_form.superficie_puertas.$touched || paso3_form.superficie_puertas.$dirty)"
                                                                       id="superficie_techos_pat_help" class="form-text text-danger pl-5">Solo numeros sin separadores de miles y punto para los decimales </small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <hr />
                                                    <div class="row">
                                                        <div class="col-md-1">
                                                            <img src="~/images/1Icono.svg" class="step-3-ico" />
                                                        </div>
                                                        <div class="col-md-10 step-3-subtitle text-primary">
                                                            Techumbres
                                                        </div>
                                                    </div>
                                                    <br />
                                                    <div class="row">
                                                        <div class="col-md-5">
                                                            <label for="mat_techo" class="col-form-label">Solución Constructiva:</label>
                                                            <select class="custom-select" name="mat_techo" id="mat_techo"
                                                                    ng-model="paso.techo.materialidadId"
                                                                    ng-options="item.materialidad.id as item.materialidad.nombre for item in data.techos.materialidades"
                                                                    ng-class="{'is-invalid':paso3_form.mat_techo.$error.required && (paso3_form.mat_techo.$touched || paso3_form.mat_techo.$dirty) }"
                                                                    @{ if (!permisos.Escritura) { @: ng-disabled="true"
                                                                    } }>
                                                                <option value="">-- Seleccione --</option>
                                                            </select>
                                                            <small ng-show="paso3_form.mat_techo.$error.required && (paso3_form.mat_techo.$touched || paso3_form.mat_techo.$dirty)"
                                                                   id="mat_techo_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>
                                                        <div class="col-md-5">
                                                            <label for="ais_techo" class="col-form-label">Aislación:</label>
                                                            <select class="custom-select" name="ais_techo" id="ais_techo"
                                                                    ng-model="paso.techo.aislacionId"
                                                                    ng-change="resetAislacion()"
                                                                    ng-options="item.aislacion.id as item.aislacion.nombre for item in data.techos.aislaciones"
                                                                    ng-class="{'is-invalid':paso3_form.ais_techo.$error.required && (paso3_form.ais_techo.$touched || paso3_form.ais_techo.$dirty) }"
                                                                    @{ if (!permisos.Escritura) { @: ng-disabled="true"
                                                                    } }>
                                                                <option value="">Sin aislación</option>
                                                            </select>
                                                            <small ng-show="paso3_form.ais_techo.$error.required && (paso3_form.ais_techo.$touched || paso3_form.ais_techo.$dirty)"
                                                                   id="ais_techo_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>

                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-5 ml-auto " style="margin-right:130px">
                                                            <label for="espesor_techos" class="col-form-label">Espesor de aislación (mm):</label>
                                                            <select class="custom-select" name="espesor_muros" id="espesor_techos"
                                                                    ng-model="paso.techo.espesorId"
                                                                    ng-options="item.id as item.nombre for item in data.espesores"
                                                                    @{ if (!permisos.Escritura) { @: ng-disabled="true"
                                                                    } else { @: ng-disabled="paso.techo.aislacionId==null"
                                                                    } }>
                                                                <option value="">-- Seleccione --</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <hr />
                                                    <div class="row">
                                                        <div class="col-md-1">
                                                            <img src="~/images/7Icono.svg" class="step-3-ico" />
                                                        </div>
                                                        <div class="col-md-10 step-3-subtitle text-primary">
                                                            Cimientos
                                                        </div>
                                                    </div>
                                                    <br />
                                                    <div class="row">
                                                        <div class="col-md-5">
                                                            <label for="mat_cimientos" class="col-form-label">Solución Constructiva:</label>
                                                            <select class="custom-select" name="mat_cimientos" id="mat_cimientos"
                                                                    ng-model="paso.cimiento.materialidadId"
                                                                    ng-options="item.materialidad.id as item.materialidad.nombre for item in data.cimientos.materialidades"
                                                                    ng-class="{'is-invalid':paso3_form.mat_cimientos.$error.required && (paso3_form.mat_cimientos.$touched || paso3_form.mat_cimientos.$dirty) }"
                                                                    @{ if (!permisos.Escritura) { @: ng-disabled="true"
                                                                    } }>
                                                                <option value="">-- Seleccione --</option>
                                                            </select>
                                                            <small ng-show="paso3_form.mat_cimientos.$error.required && (paso3_form.mat_cimientos.$touched || paso3_form.mat_cimientos.$dirty)"
                                                                   id="mat_puertas_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                        </div>
                                                    </div>
                                                    <hr />
                                                </div>
                                                <div class="card-footer">
                                                    <button type="button"
                                                            class="btn btn-primary float-right"
                                                            ng-click="pasoTresSave()"
                                                            ng-disabled="paso3_form.$invalid || paso3_form.$invalid ">
                                                        Guardar y Continuar
                                                    </button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                    <div class="container" ng-show="nivel2Paso3">
                                        <hr />
                                        <div class="card">
                                            <div class="card-body">
                                                <div class="row mb-2">
                                                    <div class="col-md-6 text-center">
                                                        <h5 class="ml-3">Edificio xxxxxxxxxxx</h5>
                                                    </div>
                                                    <div class="col-md-6 text-center">
                                                        <h5 class="ml-3">Poligono piso 1</h5>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6 text-center">
                                                        <div class="btn-group-vertical col-md-6">
                                                            <button type="button"
                                                                    ng-class="{'btn btn-primary': i==level2_piso_index_sel ,'btn btn-outline-primary piso-not-selected': i!=level2_piso_index_sel}"
                                                                    ng-click="sel_piso(i,piso)"
                                                                    ng-repeat="(i,piso) in paso.pisos | orderBy:'pisoNumero' : true">
                                                                Piso {{piso.pisoNumero}}
                                                            </button>
                                                            <select class="custom-select col-md-12 mt-2" name="sel_muro" id="sel_muro"
                                                                    ng-model="level2_piso_sel.muro_sel">
                                                                <option value="">--Seleccione Muro--</option>
                                                                <option ng-repeat="option  in level2_piso_sel.muros" ng-value="option">{{option.nombreMuro}}</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 div-svg">
                                                        <svg id="svg" height="150" width="150" preserveAspectRatio="xMinYMin meet">
                                                        </svg>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card" ng-show="lv2Suelos">
                                            <div class="card-body">
                                                <form name="paso3_lv2_form" novalidate>
                                                    <div class="row">
                                                        <div class="col-md-1">
                                                            <img src="~/images/4Icono.svg" class="step-3-ico" />
                                                        </div>
                                                        <div class="col-md-9 step-3-subtitle text-primary">
                                                            Pisos  (Piso  {{level2_piso_sel.pisoNumero  }})
                                                        </div>
                                                        <button class="btn btn-primary" ng-click="addSueloForm()"><i class="fa fa-plus"></i></button>
                                                    </div>
                                                    <div class="container-lv-dos">
                                                        <div ng-repeat="(i,suelo) in level2_piso_sel.suelos">
                                                            <div class="row">
                                                                <div class="col-md-10 brand-tipo-piso">Tipo de piso {{i+1}}</div>
                                                                <button class="btn btn-danger"
                                                                        style="margin-bottom:20px;"
                                                                        ng-show="i>0"
                                                                        ng-click="remSueloForm(i)">
                                                                    <i class="fa fa-trash"></i>
                                                                </button>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-7">
                                                                    <div class="form-group row">
                                                                        <label for="mat_pisos_{{i}}" class="col-sm-5 col-form-label">Materialidad Piso</label>
                                                                        <select class="custom-select col-md-7" name="mat_pisos_{{i}}" id="mat_pisos_{{i}}"
                                                                                ng-model="level2_piso_sel.suelos[i].materialidadId"
                                                                                ng-options="item.materialidad.id as item.materialidad.nombre for item in pisos.materialidades"
                                                                                ng-class="{'is-invalid':paso3_lv2_form.mat_pisos_{{i}}.$error.required && (paso3_lv2_form.mat_pisos_{{i}}.$touched || paso3_lv2_form.mat_pisos_{{i}}.$dirty) }"
                                                                                required>
                                                                            <option value="">-- Seleccione --</option>
                                                                        </select>
                                                                        <small ng-show="paso3_form.mat_pisos.$error.required && (paso3_form.mat_pisos.$touched || paso3_form.mat_pisos.$dirty)"
                                                                               id="mat_pisos_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-5">
                                                                    <div class="form-group row">
                                                                        <label for="mat_pisos" class="col-sm-5 col-form-label">Superficie</label>
                                                                        <input type="text"
                                                                               class="form-control col-md-3"
                                                                               name="superficie_pisos_{{i}}"
                                                                               id="superficie_pisos_{{i}}"
                                                                               ng-model="level2_piso_sel.suelos[i].superficie"
                                                                               ng-class="{'is-invalid':paso3_lv2_form.superficie_pisos_{{i}}.$invalid  && (paso3_lv2_form.superficie_pisos_{{i}}.$touched || paso3_lv2_form.superficie_pisos_{{i}}.$dirty) }"
                                                                               ng-pattern="/^[0-9]+(?:\.[0-9]+)?$/"
                                                                               min="1"
                                                                               required />
                                                                        <small ng-show="paso3_lv2_form.superficie_pisos_{{i}}.$error.required && (paso3_lv2_form.superficie_pisos_{{i}}.$touched ||paso3_lv2_form.superficie_pisos_{{i}}.$dirty)"
                                                                               id="superficie_techos_help" class="form-text text-danger">Campo requerido</small>
                                                                        <small ng-show="paso3_lv2_form.superficie_pisos_{{i}}.$error.min && (paso3_lv2_form.superficie_pisos_{{i}}.$touched || paso3_lv2_form.superficie_pisos_{{i}}.$dirty)"
                                                                               id="superficie_techos_min_help" class="form-text text-danger">La superficie debe ser mayor a 0</small>
                                                                        <small ng-show="paso3_lv2_form.superficie_pisos_{{i}}.$error.pattern && (paso3_lv2_form.superficie_pisos_{{i}}.$touched || paso3_lv2_form.superficie_pisos_{{i}}.$dirty)"
                                                                               id="superficie_techos_pat_help" class="form-text text-danger pl-5">Solo numeros sin separadores de miles y punto para los decimales </small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-7">
                                                                    <div class="form-group row">
                                                                        <label for="ais_pisos_{{i}}" class="col-sm-5 col-form-label">Aislación pisos</label>
                                                                        <select class="custom-select col-md-7" name="ais_pisos_{{i}}" id="ais_pisos_{{i}}"
                                                                                ng-model="level2_piso_sel.suelos[i].aislacionId"
                                                                                ng-options="item.aislacion.id as item.aislacion.nombre for item in pisos.aislaciones"
                                                                                ng-class="{'is-invalid':paso3_lv2_form.ais_pisos_{{i}}.$error.required && (paso3_lv2_form.ais_pisos_{{i}}.$touched || paso3_lv2_form.ais_pisos_{{i}}.$dirty) }"
                                                                                required>
                                                                            <option value="">-- Seleccione --</option>
                                                                        </select>
                                                                        <small ng-show="paso3_lv2_form.ais_pisos_{{i}}.$error.required
                                                                                && (paso3_lv2_form.ais_pisos_{{i}}.$touched
                                                                                || paso3_lv2_form.ais_pisos_{{i}}.$dirty)"
                                                                               id="ais_ext_muros_help"
                                                                               class="form-text text-danger">
                                                                            Debe seleccionar una opción
                                                                        </small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <button class="btn btn-sm btn-primary pull-right"
                                                                ng-disabled="paso3_lv2_form.$invalid || paso3_lv2_form.$invalid" ng-click="suelos_lv2_save()">
                                                            Siguiente
                                                        </button>
                                                        <button class="btn btn-sm btn-danger pull-right" ng-click="back_to_lv1()">Atras</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <div class="card" ng-show="lv2Muros">
                                            <div class="card-body">
                                                <form name="paso3_lv2_muros_form" novalidate>
                                                    <div class="row">
                                                        <div class="col-md-1">
                                                            <img src="~/images/3Icono.svg" class="step-3-ico" />
                                                        </div>
                                                        <div class="col-md-9 step-3-subtitle text-primary">
                                                            Muros  (Piso  {{level2_piso_sel.pisoNumero  }})
                                                        </div>
                                                    </div>
                                                    <div class="container-lv-dos">
                                                        <div ng-repeat="(i,muro) in level2_piso_sel.muros">
                                                            <div class="row">
                                                                <div class="col-md-11 brand-muro">Muro {{i+1}}</div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-11">
                                                                    <div class="form-group row">
                                                                        <label for="mat_muro_{{i}}" class="col-sm-4 col-form-label">Materialidad Muro</label>
                                                                        <select class="custom-select col-md-6" name="mat_muro_{{i}}" id="mat_muro_{{i}}"
                                                                                ng-model="level2_piso_sel.muros[i].materialidadId"
                                                                                ng-options="item.materialidad.id as item.materialidad.nombre for item in muros.materialidades"
                                                                                ng-class="{'is-invalid':paso3_lv2_muros_form.mat_muro_{{i}}.$error.required
                                                                    && (paso3_lv2_muros_form.mat_muro_{{i}}.$touched || paso3_lv2_muros_form.mat_muro_{{i}}.$dirty) }"
                                                                                required>
                                                                            <option value="">-- Seleccione --</option>
                                                                        </select>
                                                                        <small ng-show="paso3_lv2_muros_form.mat_muro_{{i}}.$error.required
                                                                   && (paso3_lv2_muros_form.mat_muro_{{i}}.$touched || paso3_lv2_muros_form.mat_muro_{{i}}.$dirty)"
                                                                               id="mat_muros_{{i}}_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-11">
                                                                    <div class="form-group row">
                                                                        <label for="ais_int_muros_{{i}}" class="col-sm-4 col-form-label">Envolvente interna</label>
                                                                        <select class="custom-select col-md-6" name="ais_int_muros_{{i}}" id="ais_int_muros_{{i}}"
                                                                                ng-model="level2_piso_sel.muros[i].aislacionIntId"
                                                                                ng-options="item.aislacion.id as item.aislacion.nombre for item in muros.aislaciones"
                                                                                ng-class="{'is-invalid':paso3_lv2_muros_form.ais_int_muros_{{i}}.$error.required
                                                                    && (paso3_lv2_muros_form.ais_int_muros_{{i}}.$touched || paso3_lv2_muros_form.ais_int_muros_{{i}}.$dirty) }"
                                                                                required>
                                                                            <option value="">-- Seleccione --</option>
                                                                        </select>
                                                                        <small ng-show="paso3_lv2_muros_form.ais_int_muros_{{i}}.$error.required
                                                                   && (paso3_lv2_muros_form.ais_int_muros_{{i}}.$touched || paso3_lv2_muros_form.ais_int_muros_{{i}}.$dirty)"
                                                                               id="ais_int_muros_{{i}}_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-11">
                                                                    <div class="form-group row">
                                                                        <label for="ais_ext_muros_{{i}}" class="col-sm-4 col-form-label">Envolvente Externa</label>
                                                                        <select class="custom-select col-md-6" name="ais_ext_muros_{{i}}" id="ais_ext_muros_{{i}}"
                                                                                ng-model="level2_piso_sel.muros[i].aislacionExtId"
                                                                                ng-options="item.aislacion.id as item.aislacion.nombre for item in muros.aislaciones"
                                                                                ng-class="{'is-invalid':paso3_lv2_muros_form.ais_ext_muros_{{i}}.$error.required
                                                                    && (paso3_lv2_muros_form.ais_ext_muros_{{i}}.$touched || paso3_lv2_muros_form.ais_ext_muros_{{i}}.$dirty) }"
                                                                                required>
                                                                            <option value="">-- Seleccione --</option>
                                                                        </select>
                                                                        <small ng-show="paso3_lv2_muros_form.ais_ext_muros_{{i}}.$error.required
                                                                   && (paso3_lv2_muros_form.ais_ext_muros_{{i}}.$touched || paso3_lv2_muros_form.ais_ext_muros_{{i}}.$dirty)"
                                                                               id="ais_ext_muros_{{i}}_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-11">
                                                                    <div class="form-group row">
                                                                        <label for="tipo_sombreado_{{i}}" class="col-sm-4 col-form-label">Tipo de sombreado</label>
                                                                        <select class="custom-select col-md-6" name="tipo_sombreado_{{i}}" id="tipo_sombreado_{{i}}"
                                                                                ng-model="level2_piso_sel.muros[i].tipoSombreadoId"
                                                                                ng-options="item.tipoSombreado.id as item.tipoSombreado.nombre for item in muros.tiposSombreado"
                                                                                ng-class="{'is-invalid':paso3_lv2_muros_form.tipo_sombreado_{{i}}.$error.required
                                                                    && (paso3_lv2_muros_form.tipo_sombreado_{{i}}.$touched || paso3_lv2_muros_form.tipo_sombreado_{{i}}.$dirty) }"
                                                                                required>
                                                                            <option value="">-- Seleccione --</option>
                                                                        </select>
                                                                        <small ng-show="paso3_lv2_muros_form.tipo_sombreado_{{i}}.$error.required
                                                                   && (paso3_lv2_muros_form.tipo_sombreado_{{i}}.$touched || paso3_lv2_muros_form.tipo_sombreado_{{i}}.$dirty)"
                                                                               id="tipo_sombreado_{{i}}_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="col-md-11">
                                                                    <div class="form-group row">
                                                                        <label for="largo" class="col-sm-4 col-form-label">Porcentaje de Vanos:</label>
                                                                        <div class="col-sm-4">
                                                                            <md-slider class=""
                                                                                       id="vanos_{{i}}"
                                                                                       name="vanos_{{i}}"
                                                                                       aria-label="vanos"
                                                                                       md-discrete=""
                                                                                       ng-model="level2_piso_sel.muros[i].vanos"
                                                                                       step="1" min="0"
                                                                                       max="100">
                                                                            </md-slider>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>


                                                            <div class="row mb-2">
                                                                <div class="col-sm-3">
                                                                    <input type="text"
                                                                           class="form-control"
                                                                           placeholder="Largo(m)"
                                                                           name="largo_muro_{{i}}"
                                                                           id="largo_muro_{{i}}"
                                                                           ng-model="level2_piso_sel.muros[i].largo"
                                                                           ng-class="{'is-invalid':paso3_form.largo_muro_{{i}}.$invalid  && (paso3_form.largo_muro_{{i}}.$touched || paso3_form.largo_muro_{{i}}.$dirty) }"
                                                                           ng-pattern="/^[0-9]+(?:\.[0-9]+)?$/"
                                                                           min="1"
                                                                           required />
                                                                    <small ng-show="paso3_lv2_muros_form.largo_muro_{{i}}.$error.required && (paso3_lv2_muros_form.largo_muro_{{i}}.$touched ||paso3_lv2_muros_form.largo_muro_{{i}}.$dirty)"
                                                                           id="superficie_techos_help" class="form-text text-danger">Campo requerido</small>
                                                                    <small ng-show="paso3_lv2_muros_form.largo_muro_{{i}}.$error.min && (paso3_lv2_muros_form.largo_muro_{{i}}.$touched || paso3_lv2_muros_form.largo_muro_{{i}}.$dirty)"
                                                                           id="superficie_techos_min_help" class="form-text text-danger">La superficie debe ser mayor a 0</small>
                                                                    <small ng-show="paso3_lv2_muros_form.largo_muro_{{i}}.$error.pattern && (paso3_lv2_muros_form.largo_muro_{{i}}.$touched || paso3_lv2_muros_form.largo_muro_{{i}}.$dirty)"
                                                                           id="superficie_techos_pat_help" class="form-text text-danger pl-5">Solo numeros sin separadores de miles y punto para los decimales </small>
                                                                </div>
                                                                <div class="col-sm-3">
                                                                    <input type="text"
                                                                           class="form-control"
                                                                           placeholder="Altura (m)"
                                                                           name="alto_muro_{{i}}"
                                                                           id="alto_muro_{{i}}"
                                                                           ng-model="level2_piso_sel.muros[i].altura"
                                                                           ng-class="{'is-invalid':paso3_form.alto_muro_{{i}}.$invalid  && (paso3_form.alto_muro_{{i}}.$touched || paso3_form.alto_muro_{{i}}.$dirty) }"
                                                                           ng-pattern="/^[0-9]+(?:\.[0-9]+)?$/"
                                                                           min="1"
                                                                           required />
                                                                    <small ng-show="paso3_lv2_muros_form.alto_muro_{{i}}.$error.required && (paso3_lv2_muros_form.alto_muro_{{i}}.$touched ||paso3_lv2_muros_form.alto_muro_{{i}}.$dirty)"
                                                                           id="superficie_techos_help" class="form-text text-danger">Campo requerido</small>
                                                                    <small ng-show="paso3_lv2_muros_form.alto_muro_{{i}}.$error.min && (paso3_lv2_muros_form.alto_muro_{{i}}.$touched || paso3_lv2_muros_form.alto_muro_{{i}}.$dirty)"
                                                                           id="superficie_techos_min_help" class="form-text text-danger">La superficie debe ser mayor a 0</small>
                                                                    <small ng-show="paso3_lv2_muros_form.alto_muro_{{i}}.$error.pattern && (paso3_lv2_muros_form.alto_muro_{{i}}.$touched || paso3_lv2_muros_form.alto_muro_{{i}}.$dirty)"
                                                                           id="superficie_techos_pat_help" class="form-text text-danger pl-5">Solo numeros sin separadores de miles y punto para los decimales </small>
                                                                </div>
                                                                <div class="col-sm-3">
                                                                    <input type="text"
                                                                           class="form-control"
                                                                           placeholder="Superficie (m2)"
                                                                           name="superficie_muro_{{i}}"
                                                                           id="superficie_muro_{{i}}"
                                                                           ng-model="level2_piso_sel.muros[i].superficie"
                                                                           ng-class="{'is-invalid':paso3_form.superficie_muro_{{i}}.$invalid  && (paso3_form.superficie_muro_{{i}}.$touched || paso3_form.superficie_muro_{{i}}.$dirty) }"
                                                                           ng-pattern="/^[0-9]+(?:\.[0-9]+)?$/"
                                                                           min="1"
                                                                           required />
                                                                    <small ng-show="paso3_lv2_muros_form.superficie_muro_{{i}}.$error.required && (paso3_lv2_muros_form.superficie_muro_{{i}}.$touched ||paso3_lv2_muros_form.superficie_muro_{{i}}.$dirty)"
                                                                           id="superficie_techos_help" class="form-text text-danger">Campo requerido</small>
                                                                    <small ng-show="paso3_lv2_muros_form.superficie_muro_{{i}}.$error.min && (paso3_lv2_muros_form.superficie_muro_{{i}}.$touched || paso3_lv2_muros_form.superficie_muro_{{i}}.$dirty)"
                                                                           id="superficie_techos_min_help" class="form-text text-danger">La superficie debe ser mayor a 0</small>
                                                                    <small ng-show="paso3_lv2_muros_form.superficie_muro_{{i}}.$error.pattern && (paso3_lv2_muros_form.superficie_muro_{{i}}.$touched || paso3_lv2_muros_form.superficie_muro_{{i}}.$dirty)"
                                                                           id="superficie_techos_pat_help" class="form-text text-danger pl-5">Solo numeros sin separadores de miles y punto para los decimales </small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <button class="btn btn-sm btn-primary pull-right"
                                                                ng-disabled="paso3_lv2_muros_form.$invalid || paso3_lv2_muros_form.$invalid" ng-click="muros_lv2_save()">
                                                            Siguiente
                                                        </button>
                                                        <button class="btn btn-sm btn-danger pull-right" ng-click="back_to_suelos()">Atras</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <div class="card" ng-show="lv2Ventanas">
                                            <div class="card-body">
                                                <form name="paso3_lv2_ventanas_form" novalidate>
                                                    <div class="row">
                                                        <div class="col-md-1">
                                                            <img src="~/images/5Icono.svg" class="step-3-ico" />
                                                        </div>
                                                        <div class="col-md-9 step-3-subtitle text-primary">
                                                            Ventanas  (Piso  {{level2_piso_sel.pisoNumero}} {{level2_piso_sel.muro_sel.nombreMuro}})
                                                        </div>
                                                        <button class="btn btn-primary" ng-click="addVentanaForm()"><i class="fa fa-plus"></i></button>
                                                    </div>
                                                    <div class="container-lv-dos">
                                                        <div ng-repeat="(i,ventana) in level2_piso_sel.muro_sel.ventanas">
                                                            <div class="row">
                                                                <div class="col-md-11 brand-muro">Tipo de ventana {{i+1}}</div>
                                                                <button class="btn btn-danger"
                                                                        style="margin-bottom:20px;"
                                                                        ng-show="i>0"
                                                                        ng-click="remVentanaForm(i)">
                                                                    <i class="fa fa-trash"></i>
                                                                </button>
                                                            </div>
                                                            <div class="row mb-2">
                                                                <div class="col-sm-4">
                                                                    <input type="text"
                                                                           class="form-control"
                                                                           placeholder="Largo(m)"
                                                                           name="largo_ventana_{{i}}"
                                                                           id="largo_ventana_{{i}}"
                                                                           ng-model="level2_piso_sel.muro_sel.ventanas[i].largo"
                                                                           ng-class="{'is-invalid':paso3_lv2_ventanas_form.largo_ventana_{{i}}.$invalid
                                                                                && (paso3_lv2_ventanas_form.largo_ventana_{{i}}.$touched
                                                                                || paso3_lv2_ventanas_form.largo_ventana_{{i}}.$dirty) }"
                                                                           ng-pattern="/^[0-9]+(?:\.[0-9]+)?$/"
                                                                           min="1"
                                                                           required />
                                                                    <small ng-show="paso3_lv2_ventanas_form.largo_ventana_{{i}}.$error.required
                                                                   && (paso3_lv2_ventanas_form.largo_ventana_{{i}}.$touched
                                                                   ||paso3_lv2_ventanas_form.largo_ventana_{{i}}.$dirty)"
                                                                           id="largo_ventana_help" class="form-text text-danger">Campo requerido</small>
                                                                    <small ng-show="paso3_lv2_ventanas_form.largo_ventana_{{i}}.$error.min
                                                                   && (paso3_lv2_ventanas_form.largo_ventana_{{i}}.$touched
                                                                   || paso3_lv2_ventanas_form.largo_ventana_{{i}}.$dirty)"
                                                                           id="largo_ventana__min_help" class="form-text text-danger">La superficie debe ser mayor a 0</small>
                                                                    <small ng-show="paso3_lv2_ventanas_form.largo_ventana_{{i}}.$error.pattern
                                                                   && (paso3_lv2_ventanas_form.largo_ventana_{{i}}.$touched
                                                                   || paso3_lv2_ventanas_form.largo_ventana_{{i}}.$dirty)"
                                                                           id="largo_ventana_pat_help" class="form-text text-danger pl-5">Solo numeros sin separadores de miles y punto para los decimales </small>
                                                                </div>
                                                                <div class="col-sm-4">
                                                                    <input type="text"
                                                                           class="form-control"
                                                                           placeholder="Altura (m)"
                                                                           name="ancho_ventana_{{i}}"
                                                                           id="ancho_ventana_{{i}}"
                                                                           ng-model="level2_piso_sel.muro_sel.ventanas[i].ancho"
                                                                           ng-class="{'is-invalid':paso3_lv2_ventanas_form.ancho_ventana_{{i}}.$invalid
                                                                   && (paso3_lv2_ventanas_form.ancho_ventana_{{i}}.$touched
                                                                   || paso3_lv2_ventanas_form.ancho_ventana_{{i}}.$dirty) }"
                                                                           ng-pattern="/^[0-9]+(?:\.[0-9]+)?$/"
                                                                           min="1"
                                                                           required />
                                                                    <small ng-show="paso3_lv2_ventanas_form.ancho_ventana_{{i}}.$error.required
                                                                   && (paso3_lv2_ventanas_form.ancho_ventana_{{i}}.$touched
                                                                   ||paso3_lv2_ventanas_form.ancho_ventana_{{i}}.$dirty)"
                                                                           id="alto_ventana__help" class="form-text text-danger">Campo requerido</small>
                                                                    <small ng-show="paso3_lv2_ventanas_form.ancho_ventana_{{i}}.$error.min
                                                                   && (paso3_lv2_ventanas_form.ancho_ventana_{{i}}.$touched
                                                                   || paso3_lv2_ventanas_form.ancho_ventana_{{i}}.$dirty)"
                                                                           id="alto_ventana__min_help" class="form-text text-danger">La superficie debe ser mayor a 0</small>
                                                                    <small ng-show="paso3_lv2_ventanas_form.ancho_ventana_{{i}}.$error.pattern
                                                                   && (paso3_lv2_ventanas_form.ancho_ventana_{{i}}.$touched
                                                                   || paso3_lv2_ventanas_form.ancho_ventana_{{i}}.$dirty)"
                                                                           id="alto_ventana__pat_help" class="form-text text-danger pl-5">Solo numeros sin separadores de miles y punto para los decimales </small>
                                                                </div>
                                                                <div class="col-sm-4">
                                                                    <input type="text"
                                                                           class="form-control"
                                                                           placeholder="Superficie (m2)"
                                                                           name="superficie_ventana_{{i}}"
                                                                           id="superficie_ventana_{{i}}"
                                                                           ng-model="level2_piso_sel.muro_sel.ventanas[i].superficie"
                                                                           ng-class="{'is-invalid':paso3_lv2_ventanas_form.superficie_ventana_{{i}}.$invalid
                                                                   && (paso3_lv2_ventanas_form.superficie_ventana_{{i}}.$touched
                                                                   || paso3_lv2_ventanas_form.superficie_ventana_{{i}}.$dirty) }"
                                                                           ng-pattern="/^[0-9]+(?:\.[0-9]+)?$/"
                                                                           min="1"
                                                                           required />
                                                                    <small ng-show="paso3_lv2_ventanas_form.superficie_ventana_{{i}}.$error.required
                                                                   && (paso3_lv2_ventanas_form.superficie_ventana_{{i}}.$touched
                                                                   ||paso3_lv2_ventanas_form.superficie_ventana_{{i}}.$dirty)"
                                                                           id="superficie_ventana_help" class="form-text text-danger">Campo requerido</small>
                                                                    <small ng-show="paso3_lv2_ventanas_form.superficie_ventana_{{i}}.$error.min
                                                                   && (paso3_lv2_ventanas_form.superficie_ventana_{{i}}.$touched
                                                                   || paso3_lv2_ventanas_form.superficie_ventana_{{i}}.$dirty)"
                                                                           id="superficie_ventana_min_help" class="form-text text-danger">La superficie debe ser mayor a 0</small>
                                                                    <small ng-show="paso3_lv2_muros_form.superficie_ventana_{{i}}.$error.pattern
                                                                   && (paso3_lv2_muros_form.superficie_ventana_{{i}}.$touched
                                                                   || paso3_lv2_muros_form.superficie_ventana_{{i}}.$dirty)"
                                                                           id="superficie_ventana_pat_help" class="form-text text-danger pl-5">Solo numeros sin separadores de miles y punto para los decimales </small>
                                                                </div>
                                                            </div>
                                                            <div class="row mb-2">
                                                                <label for="numero_ventana_{{i}}"
                                                                       class="col-sm-4 col-form-label">
                                                                    Numero de ventanas iguales:
                                                                </label>
                                                                <div class="col-sm-3">
                                                                    <input type="text"
                                                                           class="form-control"
                                                                           name="numero_ventana_{{i}}"
                                                                           id="numero_ventana_{{i}}"
                                                                           ng-model="level2_piso_sel.muro_sel.ventanas[i].numero"
                                                                           ng-class="{'is-invalid':paso3_lv2_ventanas_form.numero_ventana_{{i}}.$invalid
                                                                   && (paso3_lv2_ventanas_form.numero_ventana_{{i}}.$touched
                                                                   || paso3_lv2_ventanas_form.numero_ventana_{{i}}.$dirty) }"
                                                                           ng-pattern="/^[0-9]+(?:\.[0-9]+)?$/"
                                                                           min="1"
                                                                           required />
                                                                    <small ng-show="paso3_lv2_ventanas_form.numero_ventana_{{i}}.$error.required
                                                                   && (paso3_lv2_ventanas_form.numero_ventana_{{i}}.$touched
                                                                   ||paso3_lv2_ventanas_form.numero_ventana_{{i}}.$dirty)"
                                                                           id="numero_ventana_help" class="form-text text-danger">Campo requerido</small>
                                                                    <small ng-show="paso3_lv2_ventanas_form.numero_ventana_{{i}}.$error.min
                                                                   && (paso3_lv2_ventanas_form.numero_ventana_{{i}}.$touched
                                                                   || paso3_lv2_ventanas_form.numero_ventana_{{i}}.$dirty)"
                                                                           id="numero_ventana_min_help" class="form-text text-danger">La superficie debe ser mayor a 0</small>
                                                                    <small ng-show="paso3_lv2_ventanas_form.numero_ventana_{{i}}.$error.pattern
                                                                   && (paso3_lv2_ventanas_form.numero_ventana_{{i}}.$touched
                                                                   || paso3_lv2_ventanas_form.numero_ventana_{{i}}.$dirty)"
                                                                           id="numero_ventana_pat_help" class="form-text text-danger pl-5">Solo numeros sin separadores de miles y punto para los decimales </small>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-11">
                                                                    <div class="form-group row">
                                                                        <label for="materialidad_ventana_{{i}}" class="col-sm-4 col-form-label">Materialidad de ventana</label>
                                                                        <select class="custom-select col-md-6" name="materialidad_ventana_{{i}}" id="materialidad_ventana_{{i}}"
                                                                                ng-model="level2_piso_sel.muro_sel.ventanas[i].materialidadId"
                                                                                ng-options="item.materialidad.id as item.materialidad.nombre for item in ventanas.materialidades"
                                                                                ng-class="{'is-invalid':paso3_lv2_ventanas_form.materialidad_ventana_{{i}}.$error.required
                                                                        && (paso3_lv2_ventanas_form.materialidad_ventana_{{i}}.$touched
                                                                        || paso3_lv2_ventanas_form.materialidad_ventana_{{i}}.$dirty) }"
                                                                                required>
                                                                            <option value="">-- Seleccione --</option>
                                                                        </select>
                                                                        <small ng-show="paso3_lv2_ventanas_form.materialidad_ventana_{{i}}.$error.required
                                                                    && (paso3_lv2_ventanas_form.materialidad_ventana_{{i}}.$touched
                                                                    || paso3_lv2_ventanas_form.materialidad_ventana_{{i}}.$dirty)"
                                                                               id="materialidad_ventana_{{i}}_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-11">
                                                                    <div class="form-group row">
                                                                        <label for="tipo_cierre_ventana_{{i}}" class="col-sm-4 col-form-label">Tipo de cierre</label>
                                                                        <select class="custom-select col-md-6" name="tipo_cierre_ventana_{{i}}" id="tipo_cierre_ventana_{{i}}"
                                                                                ng-model="level2_piso_sel.muro_sel.ventanas[i].tipoCierreId"
                                                                                ng-options="item.aislacion.id as item.aislacion.nombre for item in tipo_cierre"
                                                                                ng-class="{'is-invalid':paso3_lv2_ventanas_form.tipo_cierre_ventana_{{i}}.$error.required
                                                                        && (paso3_lv2_ventanas_form.tipo_cierre_ventana_{{i}}.$touched
                                                                        || paso3_lv2_ventanas_form.tipo_cierre_ventana_{{i}}.$dirty) }"
                                                                                required>
                                                                            <option value="">-- Seleccione --</option>
                                                                        </select>
                                                                        <small ng-show="paso3_lv2_ventanas_form.tipo_cierre_ventana_{{i}}.$error.required
                                                                    && (paso3_lv2_ventanas_form.tipo_cierre_ventana_{{i}}.$touched
                                                                    || paso3_lv2_ventanas_form.tipo_cierre_ventana_{{i}}.$dirty)"
                                                                               id="tipo_cierre_ventana_{{i}}_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-11">
                                                                    <div class="form-group row">
                                                                        <label for="posicion_ventana_{{i}}" class="col-sm-4 col-form-label">Posición ventana</label>
                                                                        <select class="custom-select col-md-6" name="posicion_ventana_{{i}}" id="posicion_ventana_{{i}}"
                                                                                ng-model="level2_piso_sel.muro_sel.ventanas[i].posicionVentanaId"
                                                                                ng-options="item.posicionVentana.id as item.posicionVentana.nombre for item in ventanas.posicionVentanas"
                                                                                ng-class="{'is-invalid':paso3_lv2_ventanas_form.posicion_ventana_{{i}}.$error.required
                                                                        && (paso3_lv2_ventanas_form.posicion_ventana_{{i}}.$touched
                                                                        || paso3_lv2_ventanas_form.posicion_ventana_{{i}}.$dirty) }"
                                                                                required>
                                                                            <option value="">-- Seleccione --</option>
                                                                        </select>
                                                                        <small ng-show="paso3_lv2_ventanas_form.posicion_ventana_{{i}}.$error.required
                                                                    && (paso3_lv2_ventanas_form.posicion_ventana_{{i}}.$touched
                                                                    || paso3_lv2_ventanas_form.posicion_ventana_{{i}}.$dirty)"
                                                                               id="posicion_ventana_{{i}}_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-11">
                                                                    <div class="form-group row">
                                                                        <label for="tipo_marco_{{i}}" class="col-sm-4 col-form-label">Tipo de marco</label>
                                                                        <select class="custom-select col-md-6" name="tipo_marco_{{i}}" id="tipo_marco_{{i}}"
                                                                                ng-model="level2_piso_sel.muro_sel.ventanas[i].tipoMarcoId"
                                                                                ng-options="item.aislacion.id as item.aislacion.nombre for item in tipo_marco"
                                                                                ng-class="{'is-invalid':paso3_lv2_ventanas_form.tipo_marco_{{i}}.$error.required
                                                                        && (paso3_lv2_ventanas_form.tipo_marco_{{i}}.$touched
                                                                        || paso3_lv2_ventanas_form.tipo_marco_{{i}}.$dirty) }"
                                                                                required>
                                                                            <option value="">-- Seleccione --</option>
                                                                        </select>
                                                                        <small ng-show="paso3_lv2_ventanas_form.tipo_marco_{{i}}.$error.required
                                                                    && (paso3_lv2_ventanas_form.tipo_marco_{{i}}.$touched
                                                                    || paso3_lv2_ventanas_form.tipo_marco_{{i}}.$dirty)"
                                                                               id="tipo_marco_{{i}}_help" class="form-text text-danger">Debe seleccionar una opción</small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <button class="btn btn-sm btn-primary pull-right"
                                                                ng-disabled="paso3_lv2_ventanas_form.$invalid || paso3_lv2_ventanas_form.$invalid" ng-click="ventanas_lv2_save()">
                                                            Siguiente
                                                        </button>
                                                        <button class="btn btn-sm btn-danger pull-right" ng-click="back_to_muros()">Atras</button>
                                                    </div>
                                                    @*<pre>{{level2_piso_sel.muro_sel | json}}</pre>*@
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </md-content>
                        </md-step>

                        <md-step id="stCuatro" type="button" label="Archivos Adjuntos" md-complete="step4.completed" ng-disabled="step4.disabled">
                            <md-content>
                                <div ng-controller="pasoCuatroController">
                                    <div class="container">
                                        <hr />
                                        <div class="card">
                                            <div class="accordion" id="accordion">
                                                <div class="card">
                                                    <div class="row" style="margin-left:30px;margin-top:20px;">
                                                        <div class="col-md-1">
                                                            <img src="~/images/Recurso 11Fotos.svg" class="step-3-ico" />
                                                        </div>
                                                        <div class="col-md-6 step-4-subtitle text-primary">
                                                            Fotografias
                                                        </div>
                                                        <div class="col-md-1">
                                                            <button class="btn btn-outline-success mt-2"
                                                                    ng-click="downloadPhotos()">
                                                                Descargar fotos seleccionadas
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <br />
                                                    <div class="card-header bg-primary text-white" id="headingEnvolvente">
                                                        <div class="row">
                                                            <div class="">
                                                                <button class="btn" type="button" ng-click="collapse('envolvente')">
                                                                    <i id="plus-envolvente" class="fa fa-plus d-none"></i>
                                                                    <i id="minus-envolvente" class="fa fa-minus  "></i>
                                                                </button>
                                                            </div>
                                                            <div class="col-11 row">
                                                                <h4 style="margin-left:10px;">Envolvente <small>(Requisito PMG)</small></h4>
                                                                <h7 style="margin-left:auto;margin-top:5px; " float-lg-right">Como sacar tus fotos de envolventes</h7>
                                                                <a class="btn" ng-click="showModalAyudaEnvolvente()">
                                                                    <i class="fa fa-question-circle fa-lg"></i>
                                                                </a>
                                                            </div>

                                                        </div>

                                                    </div>
                                                    <div id="envolvente" class="collapse show" aria-labelledby="envolvente" data-parent="#accordion">
                                                        <div class="card-body ">
                                                            <ng-dropzone id="dzEnvolventes"
                                                                         class="dropzone"
                                                                         options="dzOptionsEnv"
                                                                         callbacks="dzCallbacks"
                                                                         methods="dzMethodsEnv">
                                                            </ng-dropzone>

                                                        </div>
                                                    </div>
                                                    <div class="card-header bg-primary text-white" id="headingDetalles">
                                                        <div class="row">
                                                            <div class="">
                                                                <button class="btn" type="button" ng-click="collapse('detalles')">
                                                                    <i id="plus-detalles" class="fa fa-plus "></i>
                                                                    <i id="minus-detalles" class="fa fa-minus d-none "></i>
                                                                </button>
                                                            </div>
                                                            <div class="col-11 row">
                                                                <h4 style="margin-left:10px;">Detalles </h4>
                                                                <h7 style="margin-left:auto;margin-top:5px; " float-lg-right">Como sacar tus fotos de detalles</h7>
                                                                <a class="btn" ng-click="showModalAyudaDetalles()">
                                                                    <i class="fa fa-question-circle fa-lg"></i>
                                                                </a>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div id="detalles" class="collapse" aria-labelledby="detalles" data-parent="#accordion">
                                                        <div class="card-body ">
                                                            <ng-dropzone id="dzDetalles"
                                                                         class="dropzone"
                                                                         options="dzOptionsDetalles"
                                                                         callbacks="dzCallbacks"
                                                                         methods="dzMethodsDetalles">
                                                            </ng-dropzone>
                                                        </div>
                                                    </div>
                                                    <div class="card-header bg-primary text-white" id="headingProblemas">
                                                        <div class="row">
                                                            <div class="">
                                                                <button class="btn" type="button" ng-click="collapse('problemas')">
                                                                    <i id="plus-detalles" class="fa fa-plus "></i>
                                                                    <i id="minus-detalles" class="fa fa-minus d-none "></i>
                                                                </button>
                                                            </div>
                                                            <div class="col-11 row">
                                                                <h4 style="margin-left:10px;">Problemas </h4>
                                                                <h7 style="margin-left:auto;margin-top:5px; " float-lg-right">Como sacar tus fotos de problemas</h7>
                                                                <a class="btn" ng-click="showModalAyudaProblemas()">
                                                                    <i class="fa fa-question-circle fa-lg"></i>
                                                                </a>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div id="problemas" class="collapse" aria-labelledby="problemas" data-parent="#accordion">
                                                        <div class="card-body ">
                                                            <ng-dropzone id="dzProblemas"
                                                                         class="dropzone"
                                                                         options="dzOptionsProblemas"
                                                                         callbacks="dzCallbacks"
                                                                         methods="dzMethodsProblemas">
                                                            </ng-dropzone>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="accordion" id="accordionPlanos">
                                                <div class="card">
                                                    <div class="row" style="margin-left:30px;margin-top:20px;">
                                                        <div class="col-md-1">
                                                            <img src="~/images/Recurso 10Planos.svg" class="step-3-ico" />
                                                        </div>
                                                        <div class="col-md-6 step-4-subtitle text-primary">
                                                            Planos
                                                        </div>
                                                        <div class="col-md-1">
                                                            <button class="btn btn-outline-success mt-2"
                                                                    ng-click="downloadBluePrints()">
                                                                Descargar archivos seleccionados
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <br />
                                                    <div class="card-header planos-brand text-white" id="headingEnvolvente">
                                                        <div class="row">
                                                            <div class="">
                                                                <button class="btn" type="button" ng-click="collapse('arquitectura')">
                                                                    <i id="plus-arquitectura" class="fa fa-plus d-none"></i>
                                                                    <i id="minus-arquitectura" class="fa fa-minus  "></i>
                                                                </button>
                                                            </div>
                                                            <div class="col-11 row">
                                                                <h4 style="margin-left:10px;">Arquitectura y/o planta</h4>
                                                                <h7 style="margin-left:auto;margin-top:5px; " float-lg-right">Como cargar tus planos</h7>
                                                                <a class="btn" ng-click="showModalAyudaArquitectura()">
                                                                    <i class="fa fa-question-circle fa-lg"></i>
                                                                </a>
                                                            </div>

                                                        </div>

                                                    </div>
                                                    <div id="arquitectura" class="collapse show" aria-labelledby="arquitectura" data-parent="#accordionPlanos">
                                                        <div class="card-body ">
                                                            <ng-dropzone id="dzArquitectura"
                                                                         class="dropzone"
                                                                         options="dzOptionsArq"
                                                                         callbacks="dzCallbacks"
                                                                         methods="dzMethodsArq">
                                                            </ng-dropzone>

                                                        </div>
                                                    </div>
                                                    <div class="card-header planos-brand text-white" id="headingElevaciones">
                                                        <div class="row">
                                                            <div class="">
                                                                <button class="btn" type="button" ng-click="collapse('elevaciones')">
                                                                    <i id="plus-elevaciones" class="fa fa-plus "></i>
                                                                    <i id="minus-elevaciones" class="fa fa-minus d-none "></i>
                                                                </button>
                                                            </div>
                                                            <div class="col-11 row">
                                                                <h4 style="margin-left:10px;">Elevaciones, cortes, escantillones y detalles constructivos</h4>
                                                                <h7 style="margin-left:auto;margin-top:5px; " float-lg-right">Como cargar tus planos</h7>
                                                                <a class="btn" ng-click="showModalAyudaEscantillon()">
                                                                    <i class="fa fa-question-circle fa-lg"></i>
                                                                </a>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div id="elevaciones" class="collapse" aria-labelledby="elevaciones" data-parent="#accordionPlanos">
                                                        <div class="card-body ">
                                                            <ng-dropzone id="dzElevaciones"
                                                                         class="dropzone"
                                                                         options="dzOptionsElevaciones"
                                                                         callbacks="dzCallbacks"
                                                                         methods="dzMethodsElevaciones">
                                                            </ng-dropzone>
                                                        </div>
                                                    </div>
                                                    <div class="card-header planos-brand text-white" id="headingEstructurales">
                                                        <div class="row">
                                                            <div class="">
                                                                <button class="btn" type="button" ng-click="collapse('estructurales')">
                                                                    <i id="plus-estructurales" class="fa fa-plus "></i>
                                                                    <i id="minus-estructurales" class="fa fa-minus d-none "></i>
                                                                </button>
                                                            </div>
                                                            <div class="col-11 row">
                                                                <h4 style="margin-left:10px;">Estructurales </h4>
                                                                <h7 style="margin-left:auto;margin-top:5px; " float-lg-right">Como cargar tus planos</h7>
                                                                <a class="btn" ng-click="showModalAyudaEstructura()">
                                                                    <i class="fa fa-question-circle fa-lg"></i>
                                                                </a>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div id="estructurales" class="collapse" aria-labelledby="estructurales" data-parent="#accordionPlanos">
                                                        <div class="card-body ">
                                                            <ng-dropzone id="dzEstructurales"
                                                                         class="dropzone"
                                                                         options="dzOptionsEstructurales"
                                                                         callbacks="dzCallbacks"
                                                                         methods="dzMethodsEstructurales">
                                                            </ng-dropzone>
                                                        </div>
                                                    </div>
                                                    <div class="card-header planos-brand text-white" id="headingEspecialidad">
                                                        <div class="row">
                                                            <div class="">
                                                                <button class="btn" type="button" ng-click="collapse('especialidad')">
                                                                    <i id="plus-especialidad" class="fa fa-plus "></i>
                                                                    <i id="minus-especialidad" class="fa fa-minus d-none "></i>
                                                                </button>
                                                            </div>
                                                            <div class="col-11 row">
                                                                <h4 style="margin-left:10px;">De especialidad </h4>
                                                                <h7 style="margin-left:auto;margin-top:5px; " float-lg-right">Como cargar tus planos</h7>
                                                                <a class="btn" ng-click="showModalAyudaEspecialidad()">
                                                                    <i class="fa fa-question-circle fa-lg"></i>
                                                                </a>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div id="especialidad" class="collapse" aria-labelledby="especialidad" data-parent="#accordionPlanos">
                                                        <div class="card-body ">
                                                            <ng-dropzone id="dzEspecialidad"
                                                                         class="dropzone"
                                                                         options="dzOptionsEspecialidad"
                                                                         callbacks="dzCallbacks"
                                                                         methods="dzMethodsEspecialidad">
                                                            </ng-dropzone>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal fade" id="modalArchivo" tabindex="-1" role="dialog"
                                         aria-labelledby="modalConfirmLabel" aria-hidden="true" data-backdrop="static">
                                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <div class="row col-md-12">
                                                        <div class="col-md-6 ml-auto">
                                                            <input type="text"
                                                                   class="form-control"
                                                                   placeholder="Titulo de la Foto"
                                                                   ng-model="selectedFile.nombre"
                                                                   ng-disabled="!editMode" />
                                                        </div>
                                                        <div style="margin-left:auto;">
                                                            <strong>{{selectedFile.fecha | date : 'dd/MM/yyyy'}}</strong>
                                                        </div>
                                                    </div>

                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-md-2 text-center" ng-show="selectedSection.length>1">
                                                            <button class="btn btn-link"
                                                                    ng-click="prevtImg()"
                                                                    ng-disabled="editMode">
                                                                <i class="fa fa-angle-left fa-5x"></i>
                                                            </button>
                                                        </div>
                                                        <div class="col-md-8" style="margin:auto; text-align:center;">
                                                            <img class="img-fluid" src="{{selectedFile.fileUrl}}" style="height:300px;" />

                                                        </div>
                                                        <div class="col-md-2 text-center " ng-show="selectedSection.length>1">
                                                            <button class="btn btn-link"
                                                                    ng-click="nextImg()"
                                                                    ng-disabled="editMode">
                                                                <i class="fa fa-angle-right fa-5x"></i>
                                                            </button>

                                                        </div>
                                                    </div>

                                                    <hr />
                                                    <div class="col-md-12">
                                                        <textarea class="form-control"
                                                                  placeholder="Descripción"
                                                                  rows="5" ng-model="selectedFile.descripcion"
                                                                  ng-disabled="!editMode">
                                                    
                                                </textarea>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">

                                                    <button type="button" class="btn btn-primary" ng-click="toogleEditMode()">{{editModeText}}</button>
                                                    <button type="button" class="btn btn-danger" ng-click="confirmDeleteFile(0)">Borrar</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="modal fade" id="modalAyudaEnvolvente" tabindex="-1" role="dialog"
                                         aria-labelledby="modalConfirmLabel" aria-hidden="true">
                                        <div class="modal-dialog  modal-dialog-scrollable modal-lg" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <div class="col-md-10 text-center">
                                                        <h2>Cómo sacar fotos de envolvente</h2>
                                                    </div>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/envolvente01.jpg" />
                                                            </div>
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/envolvente02.jpg" />
                                                            </div>
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/envolvente03.jpg" />
                                                            </div>

                                                        </div>

                                                        <div class="col-md-6">
                                                            <div>
                                                                <img class="img-fluid" src="~/images/envolvente00.jpg" />
                                                            </div>
                                                            <br />
                                                            <div class="text-justify pr-2">
                                                                <h5>Objetivo:</h5>
                                                                <span>
                                                                    Las fotografías de una envolvente tienen como objetivo apoyar a
                                                                    la caracterización de soluciones constructivas, dimensiones y materialidades.
                                                                    Este tipo de fotografías corresponde al primer acercamiento del edificio a modo general.
                                                                </span>
                                                            </div>
                                                            <br />
                                                            <div class="text-justify pr-2">
                                                                <h5>Consideraciones:</h5>
                                                                <ul>
                                                                    <li>Fotografiar todos los lados de la estructura o edificio.</li>
                                                                    <li>Nombrar correctamente la fotografía.</li>
                                                                    <li>De ser necesario tomar varias fotografías de cada lado en función del tamaño, entregando así mayores perspectivas del inmueble.</li>
                                                                    <li>Idealmente deben existir fotos panorámicas y se debe apuntar a no interrumpir ni la altura ni el largo de los muros.</li>
                                                                    <li>Tomar fotos interiores de cada tipo de espacio, sobre todo del piso y cielo, el cual normalmente es difícil de captar desde el exterior</li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">

                                                    <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal fade" id="modalAyudaDetalles" tabindex="-1" role="dialog"
                                         aria-labelledby="modalAyudaDetalles" aria-hidden="true">
                                        <div class="modal-dialog  modal-dialog-scrollable modal-lg" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <div class="col-md-10 text-center">
                                                        <h2>Cómo sacar fotos de detalles</h2>
                                                    </div>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/detalle01.jpg" />
                                                            </div>
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/detalle02.jpg" />
                                                            </div>
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/detalle03.PNG" />
                                                            </div>

                                                        </div>

                                                        <div class="col-md-6">

                                                            <div class="text-justify pr-2">
                                                                <h5>Objetivo:</h5>
                                                                <span>
                                                                    Las fotografías de detalles corresponden a todas aquellas tomas específicas a elementos,
                                                                    ya sean detalle de la ventana y su marco, tipo de puertas, tipos de aislación y muros,
                                                                    que respondan a una caracterización más específica del edificio.
                                                                </span>
                                                            </div>
                                                            <br />
                                                            <div class="text-justify pr-2">
                                                                <h5>Consideraciones:</h5>
                                                                <ul>
                                                                    <li>Incluir vistas generales del sector a detallar como también vistas de acercamiento.</li>
                                                                    <li>Nombrar correctamente fotografía.</li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">

                                                    <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal fade" id="modalAyudaProblemas" tabindex="-1" role="dialog"
                                         aria-labelledby="modalAyudaDetalles" aria-hidden="true">
                                        <div class="modal-dialog  modal-dialog-scrollable modal-lg" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <div class="col-md-10 text-center">
                                                        <h2>Cómo sacar fotos de problemas</h2>
                                                    </div>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-md-6">

                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/problema02.jpg" />
                                                            </div>
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/problema03.jpg" />
                                                            </div>

                                                        </div>

                                                        <div class="col-md-6">
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/problema01.jpg" />
                                                            </div>
                                                            <div class="text-justify pr-2">
                                                                <h5>Objetivo:</h5>
                                                                <span>
                                                                    Las fotografías de problemas corresponden a todas aquellas tomas que sean necesarias para evidenciar
                                                                    infiltraciones o aspectos a mejorar en relación a la envolvente térmica del edificio.
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">

                                                    <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal fade" id="modalAyudaArquitectura" tabindex="-1" role="dialog"
                                         aria-labelledby="modalConfirmLabel" aria-hidden="true">
                                        <div class="modal-dialog  modal-dialog-scrollable modal-lg" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <div class="col-md-10 text-center">
                                                        <h2>Cómo cargar tus planos</h2>
                                                    </div>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/arquitectura01.jpg" />
                                                            </div>
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/arquitectura02.jpg" />
                                                            </div>
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/arquitectura03.jpg" />
                                                            </div>

                                                        </div>

                                                        <div class="col-md-6">
                                                            <div>
                                                                <img class="img-fluid" src="~/images/arquitectura00.jpg" />
                                                            </div>
                                                            <br />
                                                            <div class="text-justify pr-2">
                                                                <h5>Objetivo:</h5>
                                                                <span>
                                                                    Los planos arquitectónicos corresponden a todos aquellos que presentan la estructura a nivel general o de plantas.
                                                                    Por lo general muestran la distribución de los espacios, así como sus dimensiones y niveles.
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">

                                                    <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal fade" id="modalAyudaEscantillon" tabindex="-1" role="dialog"
                                         aria-labelledby="modalConfirmLabel" aria-hidden="true">
                                        <div class="modal-dialog  modal-dialog-scrollable modal-lg" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <div class="col-md-10 text-center">
                                                        <h2>Cómo cargar tus Planos de elevaciones</h2>
                                                    </div>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/escantillon01.jpg" />
                                                            </div>
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/escantillon02.jpg" />
                                                            </div>

                                                        </div>

                                                        <div class="col-md-6">
                                                            <div>
                                                                <img class="img-fluid" src="~/images/escantillon00.jpg" />
                                                            </div>
                                                            <br />
                                                            <div class="text-justify pr-2">
                                                                <h5>Objetivo:</h5>
                                                                <span>
                                                                    Este plano muestra un esquema de la edificación en plano vertical u horizontal.
                                                                    De este modo, muestra con más claridad elementos que son menos visibles en los planos de planta o de fachada.
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">

                                                    <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal fade" id="modalAyudaEstructura" tabindex="-1" role="dialog"
                                         aria-labelledby="modalConfirmLabel" aria-hidden="true">
                                        <div class="modal-dialog  modal-dialog-scrollable modal-lg" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <div class="col-md-10 text-center">
                                                        <h2>Cómo cargar tus Planos de estructuras</h2>
                                                    </div>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/estructura01.jpg" />
                                                            </div>
                                                        </div>

                                                        <div class="col-md-6">
                                                            <div>
                                                                <img class="img-fluid" src="~/images/estructura00.jpg" />
                                                            </div>
                                                            <br />
                                                            <div class="text-justify pr-2">
                                                                <h5>Objetivo:</h5>
                                                                <span>
                                                                    Estos planos representan el "esqueleto" de la edificación, también llamada obra gruesa.
                                                                    Muestran elementos que dan soporte y garantizan la estabilidad a la estructura durante su vida útil,
                                                                    tales como cimientos/fundaciones, muros, pilares o columnas, vigas, losas, diagonales, entre otros.
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">

                                                    <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal fade" id="modalAyudaEspecialidad" tabindex="-1" role="dialog"
                                         aria-labelledby="modalConfirmLabel" aria-hidden="true">
                                        <div class="modal-dialog  modal-dialog-scrollable modal-lg" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <div class="col-md-10 text-center">
                                                        <h2>Cómo cargar tus Planos de especialidad</h2>
                                                    </div>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/especialidad01.jpg" />
                                                            </div>
                                                            <div class="p-3">
                                                                <img class="img-fluid" src="~/images/especialidad02.jpg" />
                                                            </div>
                                                        </div>

                                                        <div class="col-md-6">
                                                            <div>
                                                                <img class="img-fluid" src="~/images/especialidad00.jpg" />
                                                            </div>
                                                            <br />
                                                            <div class="text-justify pr-2">
                                                                <h5>Objetivo:</h5>
                                                                <span>
                                                                    Son planos específicos de instalaciones, los cuales son plano de instalaciones eléctricas,
                                                                    plano de instalaciones sanitarias, plano de instalaciones de gas, etc.
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">

                                                    <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal fade" id="modalConfirmFiles" tabindex="-1" role="dialog"
                                         aria-labelledby="modalConfirmFiles" aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h4 class="modal-title" id="modalConfirmFiles">Eliminar</h4>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    ¿Esta Seguro de eliminar el  archivo?
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" ng-click="deleteFile()">Si</button>
                                                    <button type="button" class="btn btn-primary" data-dismiss="modal">No</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </md-content>
                        </md-step>

                    </md-steppers>
                </md-card>
            </div>
        </div>
        <div class="text-center" ng-show="!testDivision()">
            <h2 class="mb-4">Módulo en construcción</h2>
            <div class="text-center">
                <img class="img-fluid" src="~/images/traffic_icon.png" style="width:200px;" />"
            </div>

        </div>




    </div>
</div>


